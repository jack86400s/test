!function(){var t;!function(t){t.t="window",t.i="self"}(t||(t={}));var n=(0,eval)("this"),e=(n[t.i],n[t.t]);System.register(["6d5cafebdb","99212c6ec4","react","react-dom"],(function(t){"use strict";var n,i,r,o,a,s,u,c,l,f,h,d,p,v,m;return{setters:[null,function(t){n=t.ResRC,i=t.Utils,r=t.XHR},function(t){o=t.useState,a=t.memo,s=t.forwardRef,u=t.useRef,c=t.useDebugValue,l=t.useEffect,f=t.useCallback,h=t.default,d=t.Component,p=t.PureComponent},function(t){v=t.unstable_batchedUpdates,m=t.default}],execute:function(){var b=e.__decorate,g=new(function(){function t(){}return t.prototype.parsePlistData=function(t,n){var e=this,i=new plugin.Loader;i.load([{src:t,type:plugin.LoadType.Text}]),i.onLoad=function(t){var i=(new DOMParser).parseFromString(t.response.toString(),"text/xml"),r=e.o(i.documentElement);n&&n(r)},i.onError=function(){}},t.prototype.u=function(t){return!t.childNodes||0===t.childNodes.length},t.prototype.h=function(t,n){if(!t)throw Error(n)},t.prototype.p=function(t){return 3===t.nodeType||8===t.nodeType||4===t.nodeType},t.prototype.o=function(t){var n,e,i,r,o,a;if(!t)return null;if("plist"===t.nodeName){if(r=[],this.u(t))return r;for(n=0;n<t.childNodes.length;n++)this.p(t.childNodes[n])||r.push(this.o(t.childNodes[n]));return r}if("dict"===t.nodeName){if(e={},i=null,a=0,this.u(t))return e;for(n=0;n<t.childNodes.length;n++)this.p(t.childNodes[n])||(a%2==0?(this.h("key"===t.childNodes[n].nodeName,"Missing key while parsing <dict/>."),i=this.o(t.childNodes[n])):(this.h("key"!==t.childNodes[n].nodeName,'Unexpected key "'+this.o(t.childNodes[n])+'" while parsing <dict/>.'),e[i]=this.o(t.childNodes[n])),a+=1);if(a%2==1)throw Error('Missing value for "'+i+'" while parsing <dict/>');return e}if("array"===t.nodeName){if(r=[],this.u(t))return r;for(n=0;n<t.childNodes.length;n++)this.p(t.childNodes[n])||null!==(o=this.o(t.childNodes[n]))&&r.push(o);return r}if("#text"===t.nodeName);else{if("key"===t.nodeName)return this.u(t)?"":t.childNodes[0].nodeValue;if("string"===t.nodeName){if(o="",this.u(t))return o;for(n=0;n<t.childNodes.length;n++){var s=t.childNodes[n].nodeType;3!==s&&4!==s||(o+=t.childNodes[n].nodeValue)}return o}if("integer"===t.nodeName)return this.h(!this.u(t),'Cannot parse "" as integer.'),parseInt(t.childNodes[0].nodeValue,10);if("real"===t.nodeName){for(this.h(!this.u(t),'Cannot parse "" as real.'),o="",n=0;n<t.childNodes.length;n++)3===t.childNodes[n].nodeType&&(o+=t.childNodes[n].nodeValue);return parseFloat(o)}if("date"===t.nodeName)return this.h(!this.u(t),'Cannot parse "" as Date.'),new Date(t.childNodes[0].nodeValue);if("true"===t.nodeName)return!0;if("false"===t.nodeName)return!1}},t}());function y(t,n,e){return void 0===n&&(n={x:0,y:0,width:0,height:0,isRotate:!1}),new Promise((function(i,r){var o=new plugin.Loader;o.onLoad=function(t){var o=document.createElement("canvas"),a=o.getContext("2d");if(null!==a){var s=new Image;s.onload=function(){URL.revokeObjectURL(s.src);var t=0===n.width?s.width:n.width,r=0===n.height?s.height:n.height;o.width=t,o.height=r,a.clearRect(0,0,t,r),a.translate(t/2,r/2),n.isRotate?(a.rotate(270*Math.PI/180),a.drawImage(s,n.x,n.y,r,t,-r/2,-t/2,r,t)):a.drawImage(s,n.x,n.y,t,r,-t/2,-r/2,t,r);var u=a.getImageData(0,0,t,r),c=u.data;if(e)for(var l=0,f=c.length;l<f;l+=4)c[l]=e.r,c[l+1]=e.g,c[l+2]=e.b;a.putImageData(u,0,0),i(o.toDataURL())},s.onerror=function(){r(Error("ImageBase64 load image failed"))},s.src=URL.createObjectURL(t.response)}},o.onError=function(t){r(t)},o.load([{src:t,type:plugin.LoadType.Blob}])}))}function _(t,n){var e=[];t.forEach((function(t){e.push(y(t.resolvePath,{x:0,y:0,width:0,height:0},t.colour))})),Promise.all(e).then((function(t){var e=[];t.forEach((function(t){e.push(t)})),n&&n(e,void 0)})).catch((function(t){n&&n(void 0,t)}))}var w={};function x(t,n,e){var i,r=this,o=t.src,a="unknown";a=-1!==o.indexOf(".css")?"css":a,a=-1!==(i=o).indexOf(".jpg")||-1!==i.indexOf(".png")?"image":a;var s=shell.Error,u=shell.ClientError,c=s&&new s(u.Domain,u.GameLoadResourceError),l=n.resource.resolveUrl(o);return new Promise((function(i,o){return __awaiter(r,void 0,void 0,(function(){var r;return __generator(this,(function(s){switch(s.label){case 0:return s.trys.push([0,9,,10]),"image"!==a?[3,5]:t.tint?[4,C([{resolvePath:l,colour:t.tint}])]:[3,2];case 1:return r=s.sent(),i(r[0]),[3,4];case 2:return[4,I(l,e)];case 3:r=s.sent(),i(r),s.label=4;case 4:return[3,8];case 5:return"css"!==a?[3,7]:[4,E(l,n,e)];case 6:return r=s.sent(),i(r),[3,8];case 7:o(c),s.label=8;case 8:return[3,10];case 9:return s.sent(),o(c),[3,10];case 10:return[2]}}))}))}))}function S(t,n,e){return __awaiter(this,void 0,void 0,(function(){var i,r;return __generator(this,(function(o){switch(o.label){case 0:return t.cssFile.endsWith(".css")?[4,x({src:t.cssFile},n,e)]:[3,2];case 1:return i=o.sent(),[3,3];case 2:i=t.cssFile,o.label=3;case 3:return t.tint?[4,x({src:t.imageFile,tint:t.tint},n,e)]:[3,6];case 4:return r=o.sent(),[4,O(i,n,r,!0,e)];case 5:return i=o.sent(),[3,8];case 6:return[4,O(i,n,t.imageFile,!1,e)];case 7:i=o.sent(),o.label=8;case 8:return t.appendHeader&&j(i,n),[2,i]}}))}))}function O(t,n,e,i,r){return void 0===i&&(i=!1),new Promise((function(o,a){i?(t=t.replace(/url\((.*?)\)/g,(function(){return"url("+e+")"})),o(t)):A(n.resource.resolveUrl(e),r).then((function(n){t=t.replace(/url\((.*?)\)/g,(function(){return"url("+URL.createObjectURL(n)+")"})),o(t)})).catch(a)}))}function A(t,n){var e=this,i=shell.Error,r=shell.ClientError,o=i&&new i(r.Domain,r.GameLoadResourceError);return new Promise((function(i,r){return __awaiter(e,void 0,void 0,(function(){var e;return __generator(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,P(t,n)];case 1:return e=a.sent(),i(e),[3,3];case 2:return a.sent(),r(o),[3,3];case 3:return[2]}}))}))}))}function k(t,n){return t.replace(/url\((.*?)\)/g,(function(t,e){return"url("+n.resource.resolveUrl(e)+")"}))}function C(t){return new Promise((function(n,e){_(t,(function(t,i){if(i||t&&0===t.length){var r=shell.Error,o=shell.ClientError,a=r&&new r(o.Domain,o.GameLoadResourceError);e(i||a)}n(t)}))}))}function j(t,n){var e=[],i=n.bundleInfo.name;w[i]||(w[i]=[]),Array.isArray(t)||(t=[t]);var r=w[i].length+1;return t.forEach((function(t,i){var o=r+i,a="$CSS-"+n.bundleInfo.name+"-"+o;e.push(a),function(t,n,e){if(-1===w[n].indexOf(t)){var i=document.createElement("style");i.id=t,i.innerHTML=e,document.head.appendChild(i),w[n].push(t)}}(a,n.bundleInfo.name,t)})),e}function I(t,n){var e=new plugin.Loader;return new Promise((function(i,r){e.onLoad=function(t){i(t.response)},e.onError=function(t){r(t)},e.load([{src:t,type:plugin.LoadType.Image,maxAttemptCount:n}])}))}function E(t,n,e){var i=new plugin.Loader;return new Promise((function(r,o){i.onLoad=function(t){var e=k(t.response,n);r(e)},i.onError=function(t){o(t)},i.load([{src:t,type:plugin.LoadType.Text,maxAttemptCount:e}])}))}function P(t,n){var e=new plugin.Loader;return new Promise((function(i,r){e.onLoad=function(t){i(t.response)},e.onError=function(t){r(t)},e.load([{src:t,type:plugin.LoadType.Blob,maxAttemptCount:n}])}))}function R(t,n){var e=w[n].indexOf(t);if(-1!==e){var i=document.getElementById(t);i&&i.parentElement&&i.remove(),w[n].splice(e,1)}}function T(t,n){var e={};for(var i in n)t.hasOwnProperty(i)?e[t[i]]=n[i]:e[i]=n[i];return e}T({unloadBundleAsset:"releaseBundleAsset",unload:"release",unloadBundle:"releaseBundle",deleteBundle:"removeBundle",loadByBundleAsset:"loadBundleAsset",loadRemoteBySingle:"loadRemoteSingle"},n);var N=T({convertNodeSpace:"convertToNodeSpace",convertNodeSpaceAR:"convertToNodeSpaceAR",getAbsolutePos:"getAbsolutePosition",getAbsoluteXPos:"getAbsoluteX",getAbsoluteYPos:"getAbsoluteY",setAbsolutePos:"setAbsolutePosition",setAbsoluteXPos:"setAbsoluteX",setAbsoluteYPos:"setAbsoluteY",transferToNewParent:"transferToParent",getSharedSimpleScheduler:"getSharedScheduler",delay:"delayCallback",timeout:"timeoutCallback",selector:"selectorCallback",sequence:"sequenceCallback",spawn:"spawnCallback",waterfall:"waterfCallback",condition:"condCallback",defer:"deferCallback",tick:"tickCallback",observe:"observeCallback",formatLeadingZero:"formatTwoDigit",formatDateTime:"formatDate",isRightToLeft:"isRTL",getLocationProtocol:"getProtocol",getLocationOrigin:"getOrigin"},i);const L=Object.freeze({DIRECTORY:"bs",PATH:"/socket/message-hub/v2/socket.io"});var M,B,G;!function(t){t[t.NORMAL=1]="NORMAL",t[t.NORMAL_FREE_SPIN=2]="NORMAL_FREE_SPIN",t[t.COLLAPSE_FREE_SPIN=21]="COLLAPSE_FREE_SPIN",t[t.FREE_SPIN_RESPIN=22]="FREE_SPIN_RESPIN",t[t.RESPIN=4]="RESPIN"}(M||(M={})),function(t){t[t.SHARE=0]="SHARE",t[t.REPLAY=1]="REPLAY"}(B||(B={})),function(t){t[t.GOLD=0]="GOLD",t[t.SILVER=1]="SILVER",t[t.BRONZE=2]="BRONZE"}(G||(G={}));const D=Object.freeze({[G.GOLD]:"leaderboard_icon_img ic_user_gold",[G.SILVER]:"leaderboard_icon_img ic_user_silver",[G.BRONZE]:"leaderboard_icon_img ic_user_bronze"}),F=Object.freeze({SOCIAL_WIDGET_BUTTON:"social_widget-button",SOCIAL_NOTIFICATION__DOT:"social_notification-dot",SOCIAL_BIG_SCALE_BUTTON:"social_big-scale-button",LEADERBOARD_BUTTON:"social_leaderboard-button",FAVOURITE_BUTTON_YELLOW:"fav_icon_yellow btn_favourite",FAVOURITE_BUTTON_WHITE:"widget_icon_img btn_favourite",FAVOURITE_ANIMATED:"social_animated-fav-button",GAME_ICON_HIGHLIGHT:"widget_icon_img ic_game_highlight",GAME_ICON_PLACEHOLDER:"widget_icon_img ic_game_placeholder",CASH_TOURNAMENT:"social_button-image widget_icon_img btn_trophy  social_small-scale-button",PLAYER_PROFILE:"social_button-image widget_icon_img btn_profile social_profile-button",MEDIA_SHARE:"social_button-image widget_icon_img btn_share social_small-scale-button",REPLAY:"social_button-image widget_icon_img btn_replay social_replay-button",REPLAY_RIPPLE_EFFECT:"social_button-image widget_icon_img btn_replay social_replay-ripple-effect"}),U=Object.freeze({SOCIAL_GAME_ICON:"social_game-icon",SOCIAL_GAME_ICON_FRAME:"social_game-icon-frame",SOCIAL_GAME_ICON_CONTAINER:"social_game-icon-container",SOCIAL_GAME_ICON_PLACEHOLDER:"social_game-icon-placeholder"});var V,W;!function(t){t.ONLINE_PLAYER_COUNT="op",t.LEADER_BOARD_RANKING="lbr",t.PUSH_PROFILE_BADGE="gpnr",t.GET_PLAYER_PROFILE_RESPONSE="gppr"}(V||(V={})),function(t){t.SHOW_PROFILE="SocialPage.ShowProfile",t.SHOW_GAMES="SocialPage.ShowGames",t.SHOW_LEADERBOARD="SocialPage.ShowLeaderboards",t.SHOW_TOURNAMENT="Tournament.ShowTournament",t.SHOW_MEDIA_SHARE="MediaShare.Show",t.SEND_ANALYTICS_EVENT="Analytics.Event"}(W||(W={}));class H{constructor(t){this.updateInfo(t)}updateInfo(t){this.v=t;const{portId:n,g:e,hrsId:i,li:r,lvl:o,lctn:a,a:s}=t;this.m=n||0,this._=e,this.S=i,this.O=r,this.A=o,this.k=a,this.C=s}get portaitId(){return this.m}get gender(){return this._}get horoscopeId(){return this.S}get luckyIndex(){return this.O}get level(){return this.A}get levelString(){return this.A+""}get location(){return this.k}get age(){return this.C}get rawData(){return this.v}}class q{updatePlayerInfo(t){const{pid:n,pnm:e,spp:i}=t;this.j=n,this.I=e,this.P=new H(i)}updateGameInfo(t){const{gameId:n,operatorToken:e,token:i,betType:r,platform:o,apiDomain:a}=t;this.R=i,this.T=n,this.N=r,this.L=o,this.M=a,this.B=e}get operatorToken(){return this.B}get language(){return this.G||(this.G=shell.I18n.locale()),this.G}get domainURL(){return this.D||(this.D=shell.location.origin),this.D}get platform(){return this.L}get betType(){return this.N}get apiDomain(){return this.M}get socketServerName(){return this.M+L.DIRECTORY}get socketPath(){return L.PATH}get gameId(){return this.T}get playerName(){return this.I}get playerId(){return this.j}get token(){return this.R}get socialPlayerProfile(){return this.P}}var Y=function(t,n){return Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])},Y(t,n)};function z(t,n){function e(){this.constructor=t}Y(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}var $=function(){return $=Object.assign||function(t){for(var n,e=1,i=arguments.length;e<i;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},$.apply(this,arguments)};function X(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var i,r,o=e.call(t),a=[];try{for(;(void 0===n||n-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(s){r={error:s}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(r)throw r.error}}return a}function K(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(X(arguments[n]));return t}var J=[];Object.freeze(J);var Z={};function Q(){return void 0!==e?e:global}function tt(){return++vn.mobxGuid}function nt(t){throw et(!1,t),"X"}function et(t,n){if(!t)throw Error("[mobx] "+(n||"An invariant failed, however the error is obfuscated because this is an production build."))}function it(t){var n=!1;return function(){if(!n)return n=!0,t.apply(this,arguments)}}Object.freeze(Z);var rt=function(){};function ot(t){return null!==t&&"object"==typeof t}function at(t){if(null===t||"object"!=typeof t)return!1;var n=Object.getPrototypeOf(t);return n===Object.prototype||null===n}function st(t,n,e){Object.defineProperty(t,n,{enumerable:!1,writable:!0,configurable:!0,value:e})}function ut(t,n,e){Object.defineProperty(t,n,{enumerable:!1,writable:!1,configurable:!0,value:e})}function ct(t,n){var e="isMobX"+t;return n.prototype[e]=!0,function(t){return ot(t)&&!0===t[e]}}function lt(t){return void 0!==Q().Map&&t instanceof Q().Map}function ft(t){return t instanceof Set}function ht(t){for(var n=[];;){var e=t.next();if(e.done)break;n.push(e.value)}return n}function dt(){return"function"==typeof Symbol&&Symbol.toPrimitive||"@@toPrimitive"}function pt(t){return null===t?null:"object"==typeof t?""+t:t}function vt(){return"function"==typeof Symbol&&Symbol.iterator||"@@iterator"}function mt(t,n){ut(t,vt(),n)}function bt(t){return t[vt()]=yt,t}function gt(){return"function"==typeof Symbol&&Symbol.toStringTag||"@@toStringTag"}function yt(){return this}var _t=function(){function t(t){void 0===t&&(t="Atom@"+tt()),this.name=t,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Zt.NOT_TRACKING}return t.prototype.onBecomeUnobserved=function(){},t.prototype.onBecomeObserved=function(){},t.prototype.reportObserved=function(){return wn(this)},t.prototype.reportChanged=function(){yn(),function(t){if(t.lowestObserverState!==Zt.STALE){t.lowestObserverState=Zt.STALE;for(var n=t.observers,e=n.length;e--;){var i=n[e];i.dependenciesState===Zt.UP_TO_DATE&&(i.isTracing!==Qt.NONE&&xn(i,t),i.onBecomeStale()),i.dependenciesState=Zt.STALE}}}(this),_n()},t.prototype.toString=function(){return this.name},t}(),wt=ct("Atom",_t);function xt(t,n,e){void 0===n&&(n=rt),void 0===e&&(e=rt);var i=new _t(t);return Wn("onBecomeObserved",i,n,undefined),Vn(i,e),i}function St(t,n){return t===n}var Ot={identity:St,structural:function(t,n){return Le(t,n)},default:function(t,n){return function(t,n){return"number"==typeof t&&"number"==typeof n&&isNaN(t)&&isNaN(n)}(t,n)||St(t,n)}},At={},kt={};function Ct(t,n){var e=n?At:kt;return e[t]||(e[t]={configurable:!0,enumerable:n,get:function(){return jt(this),this[t]},set:function(n){jt(this),this[t]=n}})}function jt(t){if(!0!==t.__mobxDidRunLazyInitializers){var n=t.__mobxDecorators;if(n)for(var e in st(t,"__mobxDidRunLazyInitializers",!0),n){var i=n[e];i.propertyCreator(t,i.prop,i.descriptor,i.decoratorTarget,i.decoratorArguments)}}}function It(t,n){return function(){var e,i=function(i,r,o,a){if(!0===a)return n(i,r,o,i,e),null;if(!Object.prototype.hasOwnProperty.call(i,"__mobxDecorators")){var s=i.__mobxDecorators;st(i,"__mobxDecorators",$({},s))}return i.__mobxDecorators[r]={prop:r,propertyCreator:n,descriptor:o,decoratorTarget:i,decoratorArguments:e},Ct(r,t)};return Et(arguments)?(e=J,i.apply(null,arguments)):(e=Array.prototype.slice.call(arguments),i)}}function Et(t){return(2===t.length||3===t.length)&&"string"==typeof t[1]||4===t.length&&!0===t[3]}function Pt(t,n,e){return $n(t)?t:Array.isArray(t)?Vt.array(t,{name:e}):at(t)?Vt.object(t,void 0,{name:e}):lt(t)?Vt.map(t,{name:e}):ft(t)?Vt.set(t,{name:e}):t}function Rt(t){return t}function Tt(t){var n=It(!0,(function(n,e,i){!function(t,n,e,i){var r=ke(t);if(Jn(r)){var o=Qn(r,{object:t,name:n,type:"add",newValue:e});if(!o)return;e=o.newValue}e=(r.values[n]=new Kt(e,i,r.name+"."+n,!1)).value,Object.defineProperty(t,n,function(t){return Ce[t]||(Ce[t]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.read(this,t)},set:function(n){this.$mobx.write(this,t,n)}})}(n)),r.keys&&r.keys.push(n),function(t,n,e,i){var r=te(t),o=En(),a=r||o?{type:"add",object:n,name:e,newValue:i}:null;o&&Rn($({},a,{name:t.name,key:e})),r&&ee(t,a),o&&Nn()}(r,t,n,e)}(n,e,i?i.initializer?i.initializer.call(n):i.value:void 0,t)})),e=("undefined"!=typeof process&&process.env,n);return e.enhancer=t,e}var Nt={deep:!0,name:void 0,defaultDecorator:void 0};function Lt(t){return null==t?Nt:"string"==typeof t?{name:t,deep:!0}:t}function Mt(t){return t.defaultDecorator?t.defaultDecorator.enhancer:!1===t.deep?Rt:Pt}Object.freeze(Nt);var Bt=Tt(Pt),Gt=Tt((function(t,n,e){return null==t||Pe(t)||be(t)||we(t)||Oe(t)?t:Array.isArray(t)?Vt.array(t,{name:e,deep:!1}):at(t)?Vt.object(t,void 0,{name:e,deep:!1}):lt(t)?Vt.map(t,{name:e,deep:!1}):ft(t)?Vt.set(t,{name:e,deep:!1}):nt(!1)})),Dt=Tt(Rt),Ft=Tt((function(t,n){return Le(t,n)?n:t})),Ut={box:function(t,n){arguments.length>2&&Wt("box");var e=Lt(n);return new Kt(t,Mt(e),e.name,!0,e.equals)},shallowBox:function(t,n){return arguments.length>2&&Wt("shallowBox"),Vt.box(t,{name:n,deep:!1})},array:function(t,n){arguments.length>2&&Wt("array");var e=Lt(n);return new fe(t,Mt(e),e.name)},shallowArray:function(t,n){return arguments.length>2&&Wt("shallowArray"),Vt.array(t,{name:n,deep:!1})},map:function(t,n){arguments.length>2&&Wt("map");var e=Lt(n);return new ye(t,Mt(e),e.name)},shallowMap:function(t,n){return arguments.length>2&&Wt("shallowMap"),Vt.map(t,{name:n,deep:!1})},set:function(t,n){arguments.length>2&&Wt("set");var e=Lt(n);return new Se(t,Mt(e),e.name)},object:function(t,n,e){"string"==typeof arguments[1]&&Wt("object");var i=Lt(e);return Hn({},t,n,i)},shallowObject:function(t,n){return"string"==typeof arguments[1]&&Wt("shallowObject"),Vt.object(t,{},{name:n,deep:!1})},ref:Dt,shallow:Gt,deep:Bt,struct:Ft},Vt=function(t,n,e){if("string"==typeof arguments[1])return Bt.apply(null,arguments);if($n(t))return t;var i=at(t)?Vt.object(t,n,e):Array.isArray(t)?Vt.array(t,n):lt(t)?Vt.map(t,n):ft(t)?Vt.set(t,n):t;if(i!==t)return i;nt(!1)};function Wt(t){nt("Expected one or two arguments to observable."+t+". Did you accidentally try to use observable."+t+" as decorator?")}Object.keys(Ut).forEach((function(t){return Vt[t]=Ut[t]}));var Ht=It(!1,(function(t,n,e,i,r){var o=e.get,a=e.set,s=r[0]||{};!function(t,n,e){var i=ke(t);e.name=i.name+"."+n,e.context=t,i.values[n]=new Jt(e),Object.defineProperty(t,n,function(t){return je[t]||(je[t]={configurable:vn.computedConfigurable,enumerable:!1,get:function(){return Ie(this).read(this,t)},set:function(n){Ie(this).write(this,t,n)}})}(n))}(t,n,$({get:o,set:a},s))}));function qt(t,n){var e=function(){return Yt(t,n,this,arguments)};return e.isMobxAction=!0,e}function Yt(t,n,e,i){var r=function(t,n,e,i){var r=En()&&!!t,o=0;if(r){o=Date.now();var a=i&&i.length||0,s=Array(a);if(a>0)for(var u=0;u<a;u++)s[u]=i[u];Rn({type:"action",name:t,object:e,arguments:s})}var c=cn();return yn(),{prevDerivation:c,prevAllowStateChanges:$t(!0),notifySpy:r,startTime:o}}(t,0,e,i),o=!0;try{var a=n.apply(e,i);return o=!1,a}finally{o?(vn.suppressReactionErrors=o,zt(r),vn.suppressReactionErrors=!1):zt(r)}}function zt(t){Xt(t.prevAllowStateChanges),_n(),ln(t.prevDerivation),t.notifySpy&&Nn({time:Date.now()-t.startTime})}function $t(t){var n=vn.allowStateChanges;return vn.allowStateChanges=t,n}function Xt(t){vn.allowStateChanges=t}Ht({equals:Ot.structural});var Kt=function(t){function n(n,e,i,r,o){void 0===i&&(i="ObservableValue@"+tt()),void 0===r&&(r=!0),void 0===o&&(o=Ot.default);var a=t.call(this,i)||this;return a.enhancer=e,a.name=i,a.equals=o,a.hasUnreportedChange=!1,a.value=e(n,void 0,i),r&&En()&&Pn({type:"create",name:a.name,newValue:""+a.value}),a}return z(n,t),n.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},n.prototype.set=function(t){var n=this.value;if((t=this.prepareNewValue(t))!==vn.UNCHANGED){var e=En();e&&Rn({type:"update",name:this.name,newValue:t,oldValue:n}),this.setNewValue(t),e&&Nn()}},n.prototype.prepareNewValue=function(t){if(on(this),Jn(this)){var n=Qn(this,{object:this,type:"update",newValue:t});if(!n)return vn.UNCHANGED;t=n.newValue}return t=this.enhancer(t,this.value,this.name),this.equals(this.value,t)?vn.UNCHANGED:t},n.prototype.setNewValue=function(t){var n=this.value;this.value=t,this.reportChanged(),te(this)&&ee(this,{type:"update",object:this,newValue:t,oldValue:n})},n.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},n.prototype.intercept=function(t){return Zn(this,t)},n.prototype.observe=function(t,n){return n&&t({object:this,type:"update",newValue:this.value,oldValue:void 0}),ne(this,t)},n.prototype.toJSON=function(){return this.get()},n.prototype.toString=function(){return this.name+"["+this.value+"]"},n.prototype.valueOf=function(){return pt(this.get())},n}(_t);Kt.prototype[dt()]=Kt.prototype.valueOf,ct("ObservableValue",Kt);var Jt=function(){function t(t){this.dependenciesState=Zt.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Zt.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+tt(),this.value=new nn(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Qt.NONE,this.derivation=t.get,this.name=t.name||"ComputedValue@"+tt(),t.set&&(this.setter=qt(this.name+"-setter",t.set)),this.equals=t.equals||(t.compareStructural||t.struct?Ot.structural:Ot.default),this.scope=t.context,this.requiresReaction=!!t.requiresReaction,this.keepAlive=!!t.keepAlive}return t.prototype.onBecomeStale=function(){!function(t){if(t.lowestObserverState===Zt.UP_TO_DATE){t.lowestObserverState=Zt.POSSIBLY_STALE;for(var n=t.observers,e=n.length;e--;){var i=n[e];i.dependenciesState===Zt.UP_TO_DATE&&(i.dependenciesState=Zt.POSSIBLY_STALE,i.isTracing!==Qt.NONE&&xn(i,t),i.onBecomeStale())}}}(this)},t.prototype.onBecomeUnobserved=function(){},t.prototype.onBecomeObserved=function(){},t.prototype.get=function(){this.isComputing&&nt("Cycle detected in computation "+this.name+": "+this.derivation),0!==vn.inBatch||0!==this.observers.length||this.keepAlive?(wn(this),rn(this)&&this.trackAndCompute()&&function(t){if(t.lowestObserverState!==Zt.STALE){t.lowestObserverState=Zt.STALE;for(var n=t.observers,e=n.length;e--;){var i=n[e];i.dependenciesState===Zt.POSSIBLY_STALE?i.dependenciesState=Zt.STALE:i.dependenciesState===Zt.UP_TO_DATE&&(t.lowestObserverState=Zt.UP_TO_DATE)}}}(this)):rn(this)&&(this.warnAboutUntrackedRead(),yn(),this.value=this.computeValue(!1),_n());var t=this.value;if(en(t))throw t.cause;return t},t.prototype.peek=function(){var t=this.computeValue(!1);if(en(t))throw t.cause;return t},t.prototype.set=function(t){if(this.setter){et(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,t)}finally{this.isRunningSetter=!1}}else et(!1,!1)},t.prototype.trackAndCompute=function(){En()&&Pn({object:this.scope,type:"compute",name:this.name});var t=this.value,n=this.dependenciesState===Zt.NOT_TRACKING,e=this.computeValue(!0),i=n||en(t)||en(e)||!this.equals(t,e);return i&&(this.value=e),i},t.prototype.computeValue=function(t){var n;if(this.isComputing=!0,vn.computationDepth++,t)n=an(this,this.derivation,this.scope);else if(!0===vn.disableErrorBoundaries)n=this.derivation.call(this.scope);else try{n=this.derivation.call(this.scope)}catch(e){n=new nn(e)}return vn.computationDepth--,this.isComputing=!1,n},t.prototype.suspend=function(){this.keepAlive||(sn(this),this.value=void 0)},t.prototype.observe=function(t,n){var e=this,i=!0,r=void 0;return function(t,n){void 0===n&&(n=Z);var e,i=n&&n.name||"Autorun@"+tt();if(n.scheduler||n.delay){var r=function(t){return t.scheduler?t.scheduler:t.delay?function(n){return setTimeout(n,t.delay)}:Un}(n),o=!1;e=new On(i,(function(){o||(o=!0,r((function(){o=!1,e.isDisposed||e.track(a)})))}),n.onError)}else e=new On(i,(function(){this.track(a)}),n.onError);function a(){t()}return e.schedule(),e.getDisposer()}((function(){var o=e.get();if(!i||n){var a=cn();t({type:"update",object:e,newValue:o,oldValue:r}),ln(a)}i=!1,r=o}))},t.prototype.warnAboutUntrackedRead=function(){},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},t.prototype.valueOf=function(){return pt(this.get())},t}();Jt.prototype[dt()]=Jt.prototype.valueOf;var Zt,Qt,tn=ct("ComputedValue",Jt);!function(t){t[t.NOT_TRACKING=-1]="NOT_TRACKING",t[t.UP_TO_DATE=0]="UP_TO_DATE",t[t.POSSIBLY_STALE=1]="POSSIBLY_STALE",t[t.STALE=2]="STALE"}(Zt||(Zt={})),function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"}(Qt||(Qt={}));var nn=function(t){this.cause=t};function en(t){return t instanceof nn}function rn(t){switch(t.dependenciesState){case Zt.UP_TO_DATE:return!1;case Zt.NOT_TRACKING:case Zt.STALE:return!0;case Zt.POSSIBLY_STALE:for(var n=cn(),e=t.observing,i=e.length,r=0;r<i;r++){var o=e[r];if(tn(o)){if(vn.disableErrorBoundaries)o.get();else try{o.get()}catch(a){return ln(n),!0}if(t.dependenciesState===Zt.STALE)return ln(n),!0}}return fn(t),ln(n),!1}}function on(t){var n=t.observers.length>0;vn.computationDepth>0&&n&&nt(!1),vn.allowStateChanges||!n&&"strict"!==vn.enforceActions||nt(!1)}function an(t,n,e){fn(t),t.newObserving=Array(t.observing.length+100),t.unboundDepsCount=0,t.runId=++vn.runId;var i,r=vn.trackingDerivation;if(vn.trackingDerivation=t,!0===vn.disableErrorBoundaries)i=n.call(e);else try{i=n.call(e)}catch(o){i=new nn(o)}return vn.trackingDerivation=r,function(t){for(var n=t.observing,e=t.observing=t.newObserving,i=Zt.UP_TO_DATE,r=0,o=t.unboundDepsCount,a=0;a<o;a++)0===(s=e[a]).diffValue&&(s.diffValue=1,r!==a&&(e[r]=s),r++),s.dependenciesState>i&&(i=s.dependenciesState);for(e.length=r,t.newObserving=null,o=n.length;o--;)0===(s=n[o]).diffValue&&bn(s,t),s.diffValue=0;for(;r--;){var s;1===(s=e[r]).diffValue&&(s.diffValue=0,mn(s,t))}i!==Zt.UP_TO_DATE&&(t.dependenciesState=i,t.onBecomeStale())}(t),i}function sn(t){var n=t.observing;t.observing=[];for(var e=n.length;e--;)bn(n[e],t);t.dependenciesState=Zt.NOT_TRACKING}function un(t){var n=cn(),e=t();return ln(n),e}function cn(){var t=vn.trackingDerivation;return vn.trackingDerivation=null,t}function ln(t){vn.trackingDerivation=t}function fn(t){if(t.dependenciesState!==Zt.UP_TO_DATE){t.dependenciesState=Zt.UP_TO_DATE;for(var n=t.observing,e=n.length;e--;)n[e].lowestObserverState=Zt.UP_TO_DATE}}var hn=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},dn=!0,pn=!1,vn=function(){var t=Q();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(dn=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==(new hn).version&&(dn=!1),dn?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new hn):(setTimeout((function(){pn||nt("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new hn)}();function mn(t,n){var e=t.observers.length;e&&(t.observersIndexes[n.__mapid]=e),t.observers[e]=n,t.lowestObserverState>n.dependenciesState&&(t.lowestObserverState=n.dependenciesState)}function bn(t,n){if(1===t.observers.length)t.observers.length=0,gn(t);else{var e=t.observers,i=t.observersIndexes,r=e.pop();if(r!==n){var o=i[n.__mapid]||0;o?i[r.__mapid]=o:delete i[r.__mapid],e[o]=r}delete i[n.__mapid]}}function gn(t){!1===t.isPendingUnobservation&&(t.isPendingUnobservation=!0,vn.pendingUnobservations.push(t))}function yn(){vn.inBatch++}function _n(){if(0==--vn.inBatch){kn();for(var t=vn.pendingUnobservations,n=0;n<t.length;n++){var e=t[n];e.isPendingUnobservation=!1,0===e.observers.length&&(e.isBeingObserved&&(e.isBeingObserved=!1,e.onBecomeUnobserved()),e instanceof Jt&&e.suspend())}vn.pendingUnobservations=[]}}function wn(t){var n=vn.trackingDerivation;return null!==n?(n.runId!==t.lastAccessedBy&&(t.lastAccessedBy=n.runId,n.newObserving[n.unboundDepsCount++]=t,t.isBeingObserved||(t.isBeingObserved=!0,t.onBecomeObserved())),!0):(0===t.observers.length&&vn.inBatch>0&&gn(t),!1)}function xn(t,n){if(t.isTracing===Qt.BREAK){var e=[];Sn(qn(t),e,1),Function("nodebugger;\n/*\nTracing '"+t.name+"'\n\nYou are entering this break point because derivation '"+t.name+"' is being traced and '"+n.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(t instanceof Jt?t.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+e.join("\n")+"\n*/\n    ")()}}function Sn(t,n,e){n.length>=1e3?n.push("(and many more)"):(n.push(""+Array(e).join("\t")+t.name),t.dependencies&&t.dependencies.forEach((function(t){return Sn(t,n,e+1)})))}var On=function(){function t(t,n,e){void 0===t&&(t="Reaction@"+tt()),this.name=t,this.onInvalidate=n,this.errorHandler=e,this.observing=[],this.newObserving=[],this.dependenciesState=Zt.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+tt(),this.isDisposed=!1,this.F=!1,this.U=!1,this.V=!1,this.isTracing=Qt.NONE}return t.prototype.onBecomeStale=function(){this.schedule()},t.prototype.schedule=function(){this.F||(this.F=!0,vn.pendingReactions.push(this),kn())},t.prototype.isScheduled=function(){return this.F},t.prototype.runReaction=function(){if(!this.isDisposed){if(yn(),this.F=!1,rn(this)){this.U=!0;try{this.onInvalidate(),this.U&&En()&&Pn({name:this.name,type:"scheduled-reaction"})}catch(t){this.reportExceptionInDerivation(t)}}_n()}},t.prototype.track=function(t){yn();var n,e=En();e&&(n=Date.now(),Rn({name:this.name,type:"reaction"})),this.V=!0;var i=an(this,t,void 0);this.V=!1,this.U=!1,this.isDisposed&&sn(this),en(i)&&this.reportExceptionInDerivation(i.cause),e&&Nn({time:Date.now()-n}),_n()},t.prototype.reportExceptionInDerivation=function(t){var n=this;if(this.errorHandler)this.errorHandler(t,this);else{if(vn.disableErrorBoundaries)throw t;var e="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";vn.suppressReactionErrors,En()&&Pn({type:"error",name:this.name,message:e,error:""+t}),vn.globalReactionErrorHandlers.forEach((function(e){return e(t,n)}))}},t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.V||(yn(),sn(this),_n()))},t.prototype.getDisposer=function(){var t=this.dispose.bind(this);return t.$mobx=this,t},t.prototype.toString=function(){return"Reaction["+this.name+"]"},t.prototype.trace=function(t){void 0===t&&(t=!1),function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=!1;"boolean"==typeof t[t.length-1]&&(e=t.pop());var i=Xn(t);if(!i)return nt(!1);i.isTracing,Qt.NONE,i.isTracing=e?Qt.BREAK:Qt.LOG}(this,t)},t}(),An=function(t){return t()};function kn(){vn.inBatch>0||vn.isRunningReactions||An(Cn)}function Cn(){vn.isRunningReactions=!0;for(var t=vn.pendingReactions,n=0;t.length>0;){100==++n&&t.splice(0);for(var e=t.splice(0),i=0,r=e.length;i<r;i++)e[i].runReaction()}vn.isRunningReactions=!1}var jn=ct("Reaction",On);function In(t){var n=An;An=function(e){return t((function(){return n(e)}))}}function En(){return!!vn.spyListeners.length}function Pn(t){if(vn.spyListeners.length)for(var n=vn.spyListeners,e=0,i=n.length;e<i;e++)n[e](t)}function Rn(t){Pn($({},t,{spyReportStart:!0}))}var Tn={spyReportEnd:!0};function Nn(t){Pn(t?$({},t,{spyReportEnd:!0}):Tn)}function Ln(t){return vn.spyListeners.push(t),it((function(){vn.spyListeners=vn.spyListeners.filter((function(n){return n!==t}))}))}function Mn(){nt(!1)}function Bn(t){return function(n,e,i){if(i){if(i.value)return{value:qt(t,i.value),enumerable:!1,configurable:!0,writable:!0};var r=i.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return qt(t,r.call(this))}}}return Gn(t).apply(this,arguments)}}function Gn(t){return function(n,e){Object.defineProperty(n,e,{configurable:!0,enumerable:!1,get:function(){},set:function(n){st(this,e,Dn(t,n))}})}}var Dn=function(t,n,e,i){return 1===arguments.length&&"function"==typeof t?qt(t.name||"<unnamed action>",t):2===arguments.length&&"function"==typeof n?qt(t,n):1===arguments.length&&"string"==typeof t?Bn(t):!0!==i?Bn(n).apply(null,arguments):void(t[n]=qt(t.name||n,e.value))};function Fn(t,n,e){st(t,n,qt(n,e.bind(t)))}Dn.bound=function(t,n,e,i){return!0===i?(Fn(t,n,e.value),null):e?{configurable:!0,enumerable:!1,get:function(){return Fn(this,n,e.value||e.initializer.call(this)),this[n]},set:Mn}:{enumerable:!1,configurable:!0,set:function(t){Fn(this,n,t)},get:function(){}}};var Un=function(t){return t()};function Vn(t,n,e){return Wn("onBecomeUnobserved",t,n,e)}function Wn(t,n,e,i){var r="string"==typeof e?Re(n,e):Re(n),o="string"==typeof e?i:e,a=r[t];return"function"!=typeof a?nt(!1):(r[t]=function(){a.call(this),o.call(this)},function(){r[t]=a})}function Hn(t,n,e,i){var r=(i=Lt(i)).defaultDecorator||(!1===i.deep?Dt:Bt);jt(t),ke(t,i.name,r.enhancer),yn();try{for(var o in n){var a=Object.getOwnPropertyDescriptor(n,o),s=(e&&o in e?e[o]:a.get?Ht:r)(t,o,a,!0);s&&Object.defineProperty(t,o,s)}}finally{_n()}return t}function qn(t,n){return Yn(Re(t,n))}function Yn(t){var n,e,i={name:t.name};return t.observing&&t.observing.length>0&&(i.dependencies=(n=t.observing,e=[],n.forEach((function(t){-1===e.indexOf(t)&&e.push(t)})),e).map(Yn)),i}function zn(t,n){if(null==t)return!1;if(void 0!==n){if(Pe(t)){var e=t.$mobx;return e.values&&!!e.values[n]}return!1}return Pe(t)||!!t.$mobx||wt(t)||jn(t)||tn(t)}function $n(t){return 1!==arguments.length&&nt(!1),zn(t)}function Xn(t){switch(t.length){case 0:return vn.trackingDerivation;case 1:return Re(t[0]);case 2:return Re(t[0],t[1])}}function Kn(t,n){void 0===n&&(n=void 0),yn();try{return t.apply(n)}finally{_n()}}function Jn(t){return void 0!==t.interceptors&&t.interceptors.length>0}function Zn(t,n){var e=t.interceptors||(t.interceptors=[]);return e.push(n),it((function(){var t=e.indexOf(n);-1!==t&&e.splice(t,1)}))}function Qn(t,n){var e=cn();try{var i=t.interceptors;if(i)for(var r=0,o=i.length;r<o&&(et(!(n=i[r](n))||n.type,"Intercept handlers should return nothing or a change object"),n);r++);return n}finally{ln(e)}}function te(t){return void 0!==t.changeListeners&&t.changeListeners.length>0}function ne(t,n){var e=t.changeListeners||(t.changeListeners=[]);return e.push(n),it((function(){var t=e.indexOf(n);-1!==t&&e.splice(t,1)}))}function ee(t,n){var e=cn(),i=t.changeListeners;if(i){for(var r=0,o=(i=i.slice()).length;r<o;r++)i[r](n);ln(e)}}var ie,re,oe,ae,se=(ie=!1,Object.defineProperty(re={},"0",{set:function(){ie=!0}}),Object.create(re)[0]=1,!1===ie),ue=0,ce=function(){};oe=ce,ae=Array.prototype,void 0!==Object.setPrototypeOf?Object.setPrototypeOf(oe.prototype,ae):void 0!==oe.prototype.__proto__?oe.prototype.__proto__=ae:oe.prototype=ae,Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach((function(t){Object.defineProperty(ce.prototype,t,{configurable:!0,writable:!0,value:Array.prototype[t]})}));var le=function(){function t(t,n,e,i){this.array=e,this.owned=i,this.values=[],this.lastKnownLength=0,this.atom=new _t(t||"ObservableArray@"+tt()),this.enhancer=function(e,i){return n(e,i,t+"[..]")}}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.dehanceValues=function(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},t.prototype.intercept=function(t){return Zn(this,t)},t.prototype.observe=function(t,n){return void 0===n&&(n=!1),n&&t({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),ne(this,t)},t.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},t.prototype.setArrayLength=function(t){if("number"!=typeof t||t<0)throw Error("[mobx.array] Out of range: "+t);var n=this.values.length;if(t!==n)if(t>n){for(var e=Array(t-n),i=0;i<t-n;i++)e[i]=void 0;this.spliceWithArray(n,0,e)}else this.spliceWithArray(t,n-t)},t.prototype.updateArrayLength=function(t,n){if(t!==this.lastKnownLength)throw Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=n,n>0&&t+n+1>ue&&ve(t+n+1)},t.prototype.spliceWithArray=function(t,n,e){var i=this;on(this.atom);var r=this.values.length;if(void 0===t?t=0:t>r?t=r:t<0&&(t=Math.max(0,r+t)),n=1===arguments.length?r-t:null==n?0:Math.max(0,Math.min(n,r-t)),void 0===e&&(e=J),Jn(this)){var o=Qn(this,{object:this.array,type:"splice",index:t,removedCount:n,added:e});if(!o)return J;n=o.removedCount,e=o.added}e=0===e.length?e:e.map((function(t){return i.enhancer(t,void 0)}));var a=e.length-n;this.updateArrayLength(r,a);var s=this.spliceItemsIntoValues(t,n,e);return 0===n&&0===e.length||this.notifyArraySplice(t,e,s),this.dehanceValues(s)},t.prototype.spliceItemsIntoValues=function(t,n,e){var i;if(e.length<1e4)return(i=this.values).splice.apply(i,K([t,n],e));var r=this.values.slice(t,t+n);return this.values=this.values.slice(0,t).concat(e,this.values.slice(t+n)),r},t.prototype.notifyArrayChildUpdate=function(t,n,e){var i=!this.owned&&En(),r=te(this),o=r||i?{object:this.array,type:"update",index:t,newValue:n,oldValue:e}:null;i&&Rn($({},o,{name:this.atom.name})),this.atom.reportChanged(),r&&ee(this,o),i&&Nn()},t.prototype.notifyArraySplice=function(t,n,e){var i=!this.owned&&En(),r=te(this),o=r||i?{object:this.array,type:"splice",index:t,removed:e,added:n,removedCount:e.length,addedCount:n.length}:null;i&&Rn($({},o,{name:this.atom.name})),this.atom.reportChanged(),r&&ee(this,o),i&&Nn()},t}(),fe=function(t){function n(n,e,i,r){void 0===i&&(i="ObservableArray@"+tt()),void 0===r&&(r=!1);var o=t.call(this)||this,a=new le(i,e,o,r);if(ut(o,"$mobx",a),n&&n.length){var s=$t(!0);o.spliceWithArray(0,0,n),Xt(s)}return se&&Object.defineProperty(a.array,"0",he),o}return z(n,t),n.prototype.intercept=function(t){return this.$mobx.intercept(t)},n.prototype.observe=function(t,n){return void 0===n&&(n=!1),this.$mobx.observe(t,n)},n.prototype.clear=function(){return this.splice(0)},n.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),t.map((function(t){return be(t)?t.peek():t})))},n.prototype.replace=function(t){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,t)},n.prototype.toJS=function(){return this.slice()},n.prototype.toJSON=function(){return this.toJS()},n.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},n.prototype.find=function(t,n,e){void 0===e&&(e=0);var i=this.findIndex.apply(this,arguments);return-1===i?void 0:this.get(i)},n.prototype.findIndex=function(t,n,e){void 0===e&&(e=0);for(var i=this.peek(),r=i.length,o=e;o<r;o++)if(t.call(n,i[o],o,this))return o;return-1},n.prototype.splice=function(t,n){for(var e=[],i=2;i<arguments.length;i++)e[i-2]=arguments[i];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(t);case 2:return this.$mobx.spliceWithArray(t,n)}return this.$mobx.spliceWithArray(t,n,e)},n.prototype.spliceWithArray=function(t,n,e){return this.$mobx.spliceWithArray(t,n,e)},n.prototype.push=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=this.$mobx;return e.spliceWithArray(e.values.length,0,t),e.values.length},n.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},n.prototype.shift=function(){return this.splice(0,1)[0]},n.prototype.unshift=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=this.$mobx;return e.spliceWithArray(0,0,t),e.values.length},n.prototype.reverse=function(){var t=this.slice();return t.reverse.apply(t,arguments)},n.prototype.sort=function(t){var n=this.slice();return n.sort.apply(n,arguments)},n.prototype.remove=function(t){var n=this.$mobx.dehanceValues(this.$mobx.values).indexOf(t);return n>-1&&(this.splice(n,1),!0)},n.prototype.move=function(t,n){function e(t){if(t<0)throw Error("[mobx.array] Index out of bounds: "+t+" is negative");var n=this.$mobx.values.length;if(t>=n)throw Error("[mobx.array] Index out of bounds: "+t+" is not smaller than "+n)}if(e.call(this,t),e.call(this,n),t!==n){var i,r=this.$mobx.values;i=t<n?K(r.slice(0,t),r.slice(t+1,n+1),[r[t]],r.slice(n+1)):K(r.slice(0,n),[r[t]],r.slice(n,t),r.slice(t+1)),this.replace(i)}},n.prototype.get=function(t){var n=this.$mobx;if(n&&t<n.values.length)return n.atom.reportObserved(),n.dehanceValue(n.values[t])},n.prototype.set=function(t,n){var e=this.$mobx,i=e.values;if(t<i.length){on(e.atom);var r=i[t];if(Jn(e)){var o=Qn(e,{type:"update",object:this,index:t,newValue:n});if(!o)return;n=o.newValue}(n=e.enhancer(n,r))!==r&&(i[t]=n,e.notifyArrayChildUpdate(t,n,r))}else{if(t!==i.length)throw Error("[mobx.array] Index out of bounds, "+t+" is larger than "+i.length);e.spliceWithArray(t,0,[n])}},n}(ce);mt(fe.prototype,(function(){this.$mobx.atom.reportObserved();var t=this,n=0;return bt({next:function(){return n<t.length?{value:t[n++],done:!1}:{done:!0,value:void 0}}})})),Object.defineProperty(fe.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(t){this.$mobx.setArrayLength(t)}}),st(fe.prototype,gt(),"Array"),["every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach((function(t){var n=Array.prototype[t];et("function"==typeof n,"Base function not defined on Array prototype: '"+t+"'"),st(fe.prototype,t,(function(){return n.apply(this.peek(),arguments)}))})),function(t,n){for(var e=0;e<n.length;e++)st(t,n[e],t[n[e]])}(fe.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var he=de(0);function de(t){return{enumerable:!1,configurable:!1,get:function(){return this.get(t)},set:function(n){this.set(t,n)}}}function pe(t){Object.defineProperty(fe.prototype,""+t,de(t))}function ve(t){for(var n=ue;n<t;n++)pe(n);ue=t}ve(1e3);var me=ct("ObservableArrayAdministration",le);function be(t){return ot(t)&&me(t.$mobx)}var ge={},ye=function(){function t(t,n,e){if(void 0===n&&(n=Pt),void 0===e&&(e="ObservableMap@"+tt()),this.enhancer=n,this.name=e,this.$mobx=ge,this.W=new fe(void 0,Rt,this.name+".keys()",!0),"function"!=typeof Map)throw Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this.H=new Map,this.q=new Map,this.merge(t)}return t.prototype.Y=function(t){return this.H.has(t)},t.prototype.has=function(t){var n=this;if(!vn.trackingDerivation)return this.Y(t);var e=this.q.get(t);if(!e){var i=e=new Kt(this.Y(t),Rt,this.name+"."+_e(t)+"?",!1);this.q.set(t,i),Vn(i,(function(){return n.q.delete(t)}))}return e.get()},t.prototype.set=function(t,n){var e=this.Y(t);if(Jn(this)){var i=Qn(this,{type:e?"update":"add",object:this,newValue:n,name:t});if(!i)return this;n=i.newValue}return e?this.$(t,n):this.X(t,n),this},t.prototype.delete=function(t){var n=this;if(Jn(this)&&!(r=Qn(this,{type:"delete",object:this,name:t})))return!1;if(this.Y(t)){var e=En(),i=te(this),r=i||e?{type:"delete",object:this,oldValue:this.H.get(t).value,name:t}:null;return e&&Rn($({},r,{name:this.name,key:t})),Kn((function(){n.W.remove(t),n.K(t,!1),n.H.get(t).setNewValue(void 0),n.H.delete(t)})),i&&ee(this,r),e&&Nn(),!0}return!1},t.prototype.K=function(t,n){var e=this.q.get(t);e&&e.setNewValue(n)},t.prototype.$=function(t,n){var e=this.H.get(t);if((n=e.prepareNewValue(n))!==vn.UNCHANGED){var i=En(),r=te(this),o=r||i?{type:"update",object:this,oldValue:e.value,name:t,newValue:n}:null;i&&Rn($({},o,{name:this.name,key:t})),e.setNewValue(n),r&&ee(this,o),i&&Nn()}},t.prototype.X=function(t,n){var e=this;Kn((function(){var i=new Kt(n,e.enhancer,e.name+"."+_e(t),!1);e.H.set(t,i),n=i.value,e.K(t,!0),e.W.push(t)}));var i=En(),r=te(this),o=r||i?{type:"add",object:this,name:t,newValue:n}:null;i&&Rn($({},o,{name:this.name,key:t})),r&&ee(this,o),i&&Nn()},t.prototype.get=function(t){return this.has(t)?this.dehanceValue(this.H.get(t).get()):this.dehanceValue(void 0)},t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.keys=function(){return this.W[vt()]()},t.prototype.values=function(){var t=this,n=0;return bt({next:function(){return n<t.W.length?{value:t.get(t.W[n++]),done:!1}:{value:void 0,done:!0}}})},t.prototype.entries=function(){var t=this,n=0;return bt({next:function(){if(n<t.W.length){var e=t.W[n++];return{value:[e,t.get(e)],done:!1}}return{done:!0}}})},t.prototype.forEach=function(t,n){var e=this;this.W.forEach((function(i){return t.call(n,e.get(i),i,e)}))},t.prototype.merge=function(t){var n=this;return we(t)&&(t=t.toJS()),Kn((function(){at(t)?Object.keys(t).forEach((function(e){return n.set(e,t[e])})):Array.isArray(t)?t.forEach((function(t){var e=X(t,2),i=e[0],r=e[1];return n.set(i,r)})):lt(t)?t.constructor!==Map?nt("Cannot initialize from classes that inherit from Map: "+t.constructor.name):t.forEach((function(t,e){return n.set(e,t)})):null!=t&&nt("Cannot initialize map from "+t)})),this},t.prototype.clear=function(){var t=this;Kn((function(){un((function(){t.W.slice().forEach((function(n){return t.delete(n)}))}))}))},t.prototype.replace=function(t){var n=this;return Kn((function(){var e,i=at(e=t)?Object.keys(e):Array.isArray(e)?e.map((function(t){return X(t,1)[0]})):lt(e)||we(e)?ht(e.keys()):nt("Cannot get keys from '"+e+"'"),r=n.W.filter((function(t){return-1===i.indexOf(t)}));r.forEach((function(t){return n.delete(t)})),n.merge(t)})),this},Object.defineProperty(t.prototype,"size",{get:function(){return this.W.length},enumerable:!0,configurable:!0}),t.prototype.toPOJO=function(){var t=this,n={};return this.W.forEach((function(e){return n["symbol"==typeof e?e:_e(e)]=t.get(e)})),n},t.prototype.toJS=function(){var t=this,n=new Map;return this.W.forEach((function(e){return n.set(e,t.get(e))})),n},t.prototype.toJSON=function(){return this.toPOJO()},t.prototype.toString=function(){var t=this;return this.name+"[{ "+this.W.map((function(n){return _e(n)+": "+t.get(n)})).join(", ")+" }]"},t.prototype.observe=function(t){return ne(this,t)},t.prototype.intercept=function(t){return Zn(this,t)},t}();function _e(t){return t&&t.toString?t.toString():new String(t).toString()}mt(ye.prototype,(function(){return this.entries()})),ut(ye.prototype,gt(),"Map");var we=ct("ObservableMap",ye),xe={},Se=function(){function t(t,n,e){if(void 0===n&&(n=Pt),void 0===e&&(e="ObservableSet@"+tt()),this.name=e,this.$mobx=xe,this.H=new Set,this.J=xt(this.name),"function"!=typeof Set)throw Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(t,i){return n(t,i,e)},t&&this.replace(t)}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.clear=function(){var t=this;Kn((function(){un((function(){t.H.forEach((function(n){t.delete(n)}))}))}))},t.prototype.forEach=function(t,n){var e=this;this.H.forEach((function(i){t.call(n,i,i,e)}))},Object.defineProperty(t.prototype,"size",{get:function(){return this.J.reportObserved(),this.H.size},enumerable:!0,configurable:!0}),t.prototype.add=function(t){var n=this;if(on(this.J),Jn(this)&&!(r=Qn(this,{type:"add",object:this,newValue:t})))return this;if(!this.has(t)){Kn((function(){n.H.add(n.enhancer(t,void 0)),n.J.reportChanged()}));var e=En(),i=te(this),r=i||e?{type:"add",object:this,newValue:t}:null;i&&ee(this,r)}return this},t.prototype.delete=function(t){var n=this;if(Jn(this)&&!(r=Qn(this,{type:"delete",object:this,oldValue:t})))return!1;if(this.has(t)){var e=En(),i=te(this),r=i||e?{type:"delete",object:this,oldValue:t}:null;return Kn((function(){n.J.reportChanged(),n.H.delete(t)})),i&&ee(this,r),!0}return!1},t.prototype.has=function(t){return this.J.reportObserved(),this.H.has(this.dehanceValue(t))},t.prototype.entries=function(){var t=0,n=ht(this.keys()),e=ht(this.values());return bt({next:function(){var i=t;return t+=1,i<e.length?{value:[n[i],e[i]],done:!1}:{done:!0}}})},t.prototype.keys=function(){return this.values()},t.prototype.values=function(){this.J.reportObserved();var t,n=this,e=0;return void 0!==this.H.values?t=ht(this.H.values()):(t=[],this.H.forEach((function(n){return t.push(n)}))),bt({next:function(){return e<t.length?{value:n.dehanceValue(t[e++]),done:!1}:{done:!0}}})},t.prototype.replace=function(t){var n=this;return Oe(t)&&(t=t.toJS()),Kn((function(){Array.isArray(t)||ft(t)?(n.clear(),t.forEach((function(t){return n.add(t)}))):null!=t&&nt("Cannot initialize set from "+t)})),this},t.prototype.observe=function(t){return ne(this,t)},t.prototype.intercept=function(t){return Zn(this,t)},t.prototype.toJS=function(){return new Set(this)},t.prototype.toString=function(){return this.name+"[ "+ht(this.keys()).join(", ")+" ]"},t}();mt(Se.prototype,(function(){return this.values()})),ut(Se.prototype,gt(),"Set");var Oe=ct("ObservableSet",Se),Ae=function(){function t(t,n,e){this.target=t,this.name=n,this.defaultEnhancer=e,this.values={}}return t.prototype.read=function(t,n){if(this.target===t||(this.illegalAccess(t,n),this.values[n]))return this.values[n].get()},t.prototype.write=function(t,n,e){var i=this.target;i!==t&&this.illegalAccess(t,n);var r=this.values[n];if(r instanceof Jt)r.set(e);else{if(Jn(this)){if(!(s=Qn(this,{type:"update",object:i,name:n,newValue:e})))return;e=s.newValue}if((e=r.prepareNewValue(e))!==vn.UNCHANGED){var o=te(this),a=En(),s=o||a?{type:"update",object:i,oldValue:r.value,name:n,newValue:e}:null;a&&Rn($({},s,{name:this.name,key:n})),r.setNewValue(e),o&&ee(this,s),a&&Nn()}}},t.prototype.remove=function(t){if(this.values[t]){var n=this.target;if(Jn(this)&&!(o=Qn(this,{object:n,name:t,type:"remove"})))return;try{yn();var e=te(this),i=En(),r=this.values[t].get();this.keys&&this.keys.remove(t),delete this.values[t],delete this.target[t];var o=e||i?{type:"remove",object:n,oldValue:r,name:t}:null;i&&Rn($({},o,{name:this.name,key:t})),e&&ee(this,o),i&&Nn()}finally{_n()}}},t.prototype.illegalAccess=function(){},t.prototype.observe=function(t){return ne(this,t)},t.prototype.intercept=function(t){return Zn(this,t)},t.prototype.getKeys=function(){var t=this;return void 0===this.keys&&(this.keys=new fe(Object.keys(this.values).filter((function(n){return t.values[n]instanceof Kt})),Rt,"keys("+this.name+")",!0)),this.keys.slice()},t}();function ke(t,n,e){void 0===n&&(n=""),void 0===e&&(e=Pt);var i=t.$mobx;return i||(at(t)||(n=(t.constructor.name||"ObservableObject")+"@"+tt()),n||(n="ObservableObject@"+tt()),ut(t,"$mobx",i=new Ae(t,n,e)),i)}var Ce=Object.create(null),je=Object.create(null);function Ie(t){return t.$mobx||(jt(t),t.$mobx)}var Ee=ct("ObservableObjectAdministration",Ae);function Pe(t){return!!ot(t)&&(jt(t),Ee(t.$mobx))}function Re(t,n){if("object"==typeof t&&null!==t){if(be(t))return void 0!==n&&nt(!1),t.$mobx.atom;if(Oe(t))return t.$mobx;if(we(t)){var e=t;return void 0===n?Re(e.W):((i=e.H.get(n)||e.q.get(n))||nt(!1),i)}var i;if(jt(t),n&&!t.$mobx&&t[n],Pe(t))return n?((i=t.$mobx.values[n])||nt(!1),i):nt(!1);if(wt(t)||tn(t)||jn(t))return t}else if("function"==typeof t&&jn(t.$mobx))return t.$mobx;return nt(!1)}function Te(t,n){return t||nt("Expecting some object"),void 0!==n?Te(Re(t,n)):wt(t)||tn(t)||jn(t)||we(t)||Oe(t)?t:(jt(t),t.$mobx?t.$mobx:void nt(!1))}var Ne=Object.prototype.toString;function Le(t,n){return Me(t,n)}function Me(t,n,e,i){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return!1;if(t!=t)return n!=n;var r=typeof t;return("function"===r||"object"===r||"object"==typeof n)&&function(t,n,e,i){t=Be(t),n=Be(n);var r=Ne.call(t);if(r!==Ne.call(n))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(n)}var o="[object Array]"===r;if(!o){if("object"!=typeof t||"object"!=typeof n)return!1;var a=t.constructor,s=n.constructor;if(a!==s&&!("function"==typeof a&&a instanceof a&&"function"==typeof s&&s instanceof s)&&"constructor"in t&&"constructor"in n)return!1}i=i||[];for(var u=(e=e||[]).length;u--;)if(e[u]===t)return i[u]===n;if(e.push(t),i.push(n),o){if((u=t.length)!==n.length)return!1;for(;u--;)if(!Me(t[u],n[u],e,i))return!1}else{var c=Object.keys(t),l=void 0;if(u=c.length,Object.keys(n).length!==u)return!1;for(;u--;)if(!Ge(n,l=c[u])||!Me(t[l],n[l],e,i))return!1}return e.pop(),i.pop(),!0}(t,n,e,i)}function Be(t){return be(t)?t.peek():lt(t)||we(t)||ft(t)||Oe(t)?ht(t.entries()):t}function Ge(t,n){return Object.prototype.hasOwnProperty.call(t,n)}var De="$mobx";"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Ln,extras:{getDebugName:function(t,n){return(void 0!==n?Re(t,n):Pe(t)||we(t)||Oe(t)?Te(t):Re(t)).name}},$mobx:De});class Fe{constructor(){this.gameFlowInfo=Object.create(null),this.gamePlayUIBlock=Object.create(null),this.gameEffectInfo=Object.create(null),this.screenWidth=0,this.screenHeight=0,this.scale=0,this.ratio=1,this.socialMediaMode=B.SHARE,this.markWinReplay=!1,this.autoPlayState="Stop",this.isSocialActive=!0,this.isTournamentActive=!1,this.topThreePlayerRanking=[],this.isLandscapeMode=!1,this.onlinePlayerCount=0,this.gameOnlinePlayerCount=0,this.gameIconUrl="",this.isFav=!1,this.gameLayoutInfo=void 0,this.onlinePlayerPaddingTop=0,this.favouriteWidget=void 0,this.leaderboard=void 0,this.tournamentWidget=void 0,this.playerProfileWidget=void 0,this.gameListWidget=void 0,this.mediaShareWidget=void 0,this.winReplayEnable=!1,this.onlinePlayerWidget=!1,this.isShowTournamentNotification=!1,this.profileBadgeNotification=!1,this.isGameButtonInteractable=!0}updateRatio(t){this.ratio=t}updateSocialElement(t){if(!t)return this.leaderboard=!1,this.favouriteWidget=!1,this.playerProfileWidget=!1,this.tournamentWidget=!1,this.gameListWidget=!1,void(this.mediaShareWidget=!1);const{fa:n,lb:e,ct:i,pp:r,gl:o,ms:a,wr:s,op:u}=t;this.favouriteWidget=1===parseInt(n),this.leaderboard=1===parseInt(e),this.tournamentWidget=1===parseInt(i),this.playerProfileWidget=1===parseInt(r),this.gameListWidget=1===parseInt(o),this.mediaShareWidget=1===parseInt(a),this.winReplayEnable=1===parseInt(s),this.onlinePlayerWidget=1===parseInt(u)}getActiveElementCount(){let t=0;return t+=this.favouriteWidget?1:0,t+=this.gameListWidget?1:0,t+=this.tournamentWidget?1:0,t+=this.mediaShareWidget?1:0,t+=this.playerProfileWidget?1:0,t}setIsFav(t){this.isFav=t}updateIsShowTournamentNotification(t){this.isShowTournamentNotification=t}updateProfileIconList(t){this.profileIconList=t}setTopThreePlayerRanking(t){const n=t.rl,e=[];n.forEach((t=>{var n;const i=+t.r,r=t.pn,o=t.spp.portId,a=null===(n=this.profileIconList.find((t=>t.rid===o)))||void 0===n?void 0:n.url;1!==i&&2!==i&&3!==i||(e[i-1]={playerName:r,portraitId:o,playerImageUrl:a})})),this.topThreePlayerRanking=e}}b([Vt],Fe.prototype,"profileIconList",void 0),b([Vt],Fe.prototype,"screenWidth",void 0),b([Vt],Fe.prototype,"screenHeight",void 0),b([Vt],Fe.prototype,"scale",void 0),b([Vt],Fe.prototype,"ratio",void 0),b([Vt],Fe.prototype,"socialMediaMode",void 0),b([Vt],Fe.prototype,"markWinReplay",void 0),b([Vt],Fe.prototype,"autoPlayState",void 0),b([Vt],Fe.prototype,"isSocialActive",void 0),b([Vt],Fe.prototype,"isTournamentActive",void 0),b([Vt],Fe.prototype,"topThreePlayerRanking",void 0),b([Vt],Fe.prototype,"isLandscapeMode",void 0),b([Vt],Fe.prototype,"onlinePlayerCount",void 0),b([Vt],Fe.prototype,"gameOnlinePlayerCount",void 0),b([Vt],Fe.prototype,"gameIconUrl",void 0),b([Vt],Fe.prototype,"isFav",void 0),b([Vt],Fe.prototype,"gameLayoutInfo",void 0),b([Vt],Fe.prototype,"onlinePlayerPaddingTop",void 0),b([Vt],Fe.prototype,"favouriteWidget",void 0),b([Vt],Fe.prototype,"leaderboard",void 0),b([Vt],Fe.prototype,"tournamentWidget",void 0),b([Vt],Fe.prototype,"playerProfileWidget",void 0),b([Vt],Fe.prototype,"gameListWidget",void 0),b([Vt],Fe.prototype,"mediaShareWidget",void 0),b([Vt],Fe.prototype,"winReplayEnable",void 0),b([Vt],Fe.prototype,"onlinePlayerWidget",void 0),b([Vt],Fe.prototype,"isShowTournamentNotification",void 0),b([Vt],Fe.prototype,"profileBadgeNotification",void 0),b([Vt],Fe.prototype,"isGameButtonInteractable",void 0),b([Dn],Fe.prototype,"updateRatio",null),b([Dn],Fe.prototype,"updateSocialElement",null),b([Dn],Fe.prototype,"getActiveElementCount",null),b([Dn],Fe.prototype,"setIsFav",null),b([Dn],Fe.prototype,"updateIsShowTournamentNotification",null),b([Dn],Fe.prototype,"updateProfileIconList",null),b([Dn],Fe.prototype,"setTopThreePlayerRanking",null);class Ue{constructor(t){const{gid:n}=t;this.T=n}get gameId(){return this.T}}class Ve{constructor(){this.gameList=[]}updateInfo(t){this.gameList.length=0,t.forEach((t=>{const n=new Ue(t);this.gameList.push(n)})),this.gameList=this.gameList}updateInfoByGameId(t,n){let e=!0;for(let i=0;i<this.gameList.length;i++){const r=this.gameList[i];if(r.gameId===t&&!n){this.gameList.splice(i,1),e=!1;break}if(r.gameId===t&&n){e=!1;break}}if(e&&n){const n=new Ue({gid:t});this.gameList.push(n)}this.gameList=this.gameList}get favGameList(){return this.gameList}getFavGame(t){return this.gameList.filter((n=>n.gameId===t))[0]}}const We=new class{constructor(){this.lastTransactionRawDataList=[],this.mainViewModel=new Fe,this.Z=new q,this.mainViewModel.isLandscapeMode="land"===shell.environment.getOrientationMode(),this.tt=new Ve}updateFavGameList(t){this.tt.updateInfo(t);const n=!!this.tt.getFavGame(this.Z.gameId);this.mainViewModel.setIsFav(n)}updateSocialGameSession(t){this.Z.updateGameInfo(t)}get socialGameSession(){return this.Z}};let He,qe;function Ye(t,n){He&&He.on(t,(t=>{n&&n(t)}))}function ze(t){He&&He.off(t)}const $e=()=>qe.event,{delayCallback:Xe}=N;function Ke(t){$e().emit("Toast.Show",{toastStyle:"Notification",message:t,duration:2,toastPosition:"Bottom",imageSrc:""})}const Je=["ProcessEvent","BonusGame","Replay"],Ze=["BigWin"],Qe=["BigWin","TotalWin","DragonJackpotTotalWin"];function ti(t){return"[object Object]"===Object.prototype.toString.call(t)}function ni(t,n,e,i){const r=t.request("POST",n,e,function(t){return function(n,e){n=n||function(t){let n;if(ti(t)&&t.hasOwnProperty("err")&&t.hasOwnProperty("dt")){const e=t.err;e&&(n=function(t){ti(t)||(t=Object.create(null)),t.hasOwnProperty("cd")&&+t.cd||(t.cd=6501);const{Error:n,ServerError:e}=shell;return new n(e.Domain,t.cd,t.tid)}(e))}else{const{Error:t,ServerError:e}=shell;n=new t(e.Domain,6501)}return n}(e),t(n,e)}}(i));return()=>r.abort()}var ei;!function(t){t[t.SOCIAL_PROFILE_ICON=13]="SOCIAL_PROFILE_ICON",t[t.SOCIAL_GAME_SMALL_ICON=19]="SOCIAL_GAME_SMALL_ICON"}(ei||(ei={}));const ii=new class{constructor(t){this.nt=t,this.et=new r}getSocialInitAPIConfig(t,n){const{domainURL:e,operatorToken:i,language:r}=this.nt.socialGameSession,o={du:e,otk:i,l:r,tpoc:!!n.totalPlayerOnlineCount,pfg:!!n.playerFavouriteGames,pfl:!!n.playerProfile,cs:!!n.configurationSetting};return this.it("web-api/game-proxy/Social/SocialInitConfig/Get",t,o)}getFilterResourceData(t,n){const{domainURL:e,operatorToken:i}=this.nt.socialGameSession,r={du:e,otk:i};return n&&n.referenceId&&(r.rids=n.referenceId),n&&n.typeId&&(r.rtids=n.typeId),this.it("web-api/game-proxy/v2/Resources/GetByReferenceIdsResourceTypeIds",t,r)}updatePlayerFavGame(t){const n={ac:t};return this.it("web-api/game-proxy/Social/PlayerFavGame/Update",((n,e)=>{if(n||!e||!e.dt)return Ke(n.message),void We.mainViewModel.setIsFav(!t);We.mainViewModel.setIsFav(t)}),n)}it(t,n,e={}){const{apiDomain:i}=this.nt.socialGameSession,{token:r,platform:o,betType:a}=this.nt.socialGameSession,s=Object.assign({atk:r,pf:o,btt:a},e),u=i+t;return ni(this.et,u,s,n)}}(We),{sequenceCallback:ri,deferCallback:oi}=N,ai=new class{init(t){ri(this.rt.bind(this),this.ot.bind(this),this.ut.bind(this))(t)}setupEvent(t){ri(this.lt.bind(this),this.ft.bind(this))(t)}rt(t){$e().emit("Shell.GetScale",void 0,this.ht.bind(this)),$e().on("Shell.Scaled",this.vt.bind(this),void 0),$e().on("Tournament.OnDismiss",this.bt,this),$e().on("Tournament.OnShow",this.gt,this),$e().on("Game.BlockUI",this.yt,this),$e().on("SocialPage.OnFavouriteGameChanged",this._t,this),$e().on("Social.UpdateFavIcon",this.wt,this),$e().emit("Game.GetUpcomingTournament"),$e().on("Game.UpcomingTournament",this.xt,this),$e().on("Game.DisplayStateChanged",this.St,this),$e().on("Game.FlowStateChanged",this.Ot,this),t&&t()}lt(t){const{winReplayEnable:n,mediaShareWidget:e}=We.mainViewModel;n&&e&&($e().on("Game.TransactionInfoUpdated",this.At,this),$e().on("Game.TransactionStateChanged",this.kt,this),$e().on("Game.WalletChangedSuccess",this.Ct,this),$e().on("Game.AutoplayStateChanged",this.jt,this)),t&&t()}ut(t){$e().emit("Game.RequestSession",void 0,(n=>{const{response:e}=n;We.updateSocialGameSession(e);const{gamePluginList:i,gameClock:r,gameName:o,netProfitState:a,elapsedTimeState:s}=e.operatorJurisdictionConfig;if((r||o||a||s)&&(We.mainViewModel.onlinePlayerPaddingTop=65),i){const t=i.filter((t=>t.name===qe.bundleInfo.name))[0],n=t&&t.configuration?t.configuration:void 0;We.mainViewModel.updateSocialElement(n)}t&&t()}))}ot(t){$e().emit("Game.RequestLayoutInfo",void 0,(n=>{const{response:e}=n;We.mainViewModel.gameLayoutInfo=e,t&&t()}))}ft(t){const n=t=>{t.payload&&this.It()};$e().emit("Game.RequestOperatorSocketConnectionStatus",void 0,(t=>{t.response?this.It():$e().once("Game.OperatorSocketConnected",n,void 0)})),t&&t()}It(){const{socketServerName:t,socketPath:n}=We.socialGameSession;var e,i;e=t,i=n,He=io.connect(e,{path:i,transports:["websocket"]}),Ye(V.ONLINE_PLAYER_COUNT,(t=>{We.mainViewModel.gameOnlinePlayerCount=t.gop,We.mainViewModel.onlinePlayerCount=t.top})),Ye(V.LEADER_BOARD_RANKING,(t=>{We.mainViewModel.setTopThreePlayerRanking(t)})),Ye(V.PUSH_PROFILE_BADGE,(t=>{We.mainViewModel.profileBadgeNotification=t instanceof Array&&t.length>0}))}emitEvent(t,n){const e=t!==W.SEND_ANALYTICS_EVENT?this.Et.bind(this):void 0;$e().emit(t,n,e)}Et(t){const{response:n}=t;!n&&Ke(shell.I18n.t("SocialPlugin.UnknownErrorRetry"))}_t(t){const{gameID:n,favourite:e}=t.payload;n.toString()===We.socialGameSession.gameId.toString()&&We.mainViewModel.setIsFav(e)}xt(t){t.payload&&We.mainViewModel.updateIsShowTournamentNotification(t.payload.value)}St(t){if("Start"===We.mainViewModel.gameFlowInfo.Replay)return;const{effectType:n,displayState:e}=t.payload;We.mainViewModel.gameEffectInfo[n]=e,"Start"===e?this.Pt():"End"===e&&(this.Rt(),Qe.includes(n)&&this.Tt())}replayLastRound(){$e().emit("Game.FlowStateChanged",{displayState:"Start",flowType:"Replay"}),We.mainViewModel.socialMediaMode=B.SHARE;const t={replayType:"Spin",selectedIndex:0,replayData:We.lastTransactionRawDataList};$e().emit("Game.RequestReplay",t)}Ot(t){const{flowType:n,displayState:e}=t.payload;"Start"===We.mainViewModel.gameFlowInfo.Replay&&"Replay"!==n||(We.mainViewModel.gameFlowInfo[n]=e,"Start"===e?this.Pt():"End"===e&&this.Rt())}Rt(){const{gamePlayUIBlock:t,gameFlowInfo:n,gameEffectInfo:e}=We.mainViewModel,i=function(t){let n=!1;const e=Object.keys(t);for(let i=0;i<e.length;i++)if(t[e[i]]){n=!0;break}return n}(t),r=function(t){let n=!1;const e=Object.keys(t);for(let i=0;i<e.length;i++)if("Start"===t[e[i]]&&Je.includes(e[i])){n=!0;break}return n}(n),o=function(t){let n=!1;const e=Object.keys(t);for(let i=0;i<e.length;i++)if("Start"===t[e[i]]&&Ze.includes(Ze[i])){n=!0;break}return n}(e);i||r||o||(We.mainViewModel.isSocialActive=!0)}Pt(){oi()((()=>{We.mainViewModel.isSocialActive=!1}))}At(t){"Start"!==We.mainViewModel.gameFlowInfo.Replay&&(We.mainViewModel.socialMediaMode=B.SHARE,t.payload.st===M.NORMAL&&(We.lastTransactionRawDataList.length=0),We.lastTransactionRawDataList.push(t.payload))}kt(t){const n=t.payload,e=We.lastTransactionRawDataList.length;if(e>0){const t=We.lastTransactionRawDataList[0].st,i=We.lastTransactionRawDataList[e-1].nst;if(We.mainViewModel.markWinReplay&&"idle"===n.to&&t===M.NORMAL&&i===M.NORMAL)return We.mainViewModel.markWinReplay=!1,void(We.mainViewModel.socialMediaMode=B.REPLAY)}We.mainViewModel.socialMediaMode===B.REPLAY&&"action"===n.to&&(We.mainViewModel.socialMediaMode=B.SHARE)}Ct(){We.mainViewModel.socialMediaMode=B.SHARE}jt(t){We.mainViewModel.autoPlayState=t.payload}Tt(){const{winReplayEnable:t,autoPlayState:n}=We.mainViewModel;if(!t)return;const e=We.lastTransactionRawDataList.length;if(0===e)return;if("Start"===n)return;const i=We.lastTransactionRawDataList[0].st,r=We.lastTransactionRawDataList[e-1].nst;(i===M.NORMAL&&r===M.NORMAL||i===M.NORMAL&&r===M.RESPIN)&&(We.mainViewModel.markWinReplay=!0)}wt(t){const n=t.payload;ii.updatePlayerFavGame(n)}gt(){We.mainViewModel.isTournamentActive=!0}bt(){We.mainViewModel.isTournamentActive=!1}yt(t){const n=t.payload;let e=!1;"boolean"==typeof n?(e=n,We.mainViewModel.gamePlayUIBlock.default=n):(e=n.isBlocked,We.mainViewModel.gamePlayUIBlock[n.uiBlockKey]=n.isBlocked),e?this.Pt():this.Rt()}ht(t){!t.error&&this.Nt(t.response)}vt(t){!t.error&&this.Nt(t.payload)}Nt(t){const{scale:n,width:e,height:i}=t;We.mainViewModel.screenWidth=e,We.mainViewModel.screenHeight=i,We.mainViewModel.scale=n}destroySocket(){ze(V.LEADER_BOARD_RANKING),ze(V.ONLINE_PLAYER_COUNT),ze(V.PUSH_PROFILE_BADGE),ze(V.ONLINE_PLAYER_COUNT)}};if(!o)throw Error("mobx-react-lite requires React with Hooks support");if(!Ln)throw Error("mobx-react-lite requires mobx at least version 4 to be available");var si=function(){return si=Object.assign||function(t){for(var n,e=1,i=arguments.length;e<i;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},si.apply(this,arguments)};function ui(t){return t.current?qn(t.current):"<unknown>"}var ci=[];function li(){var t=function(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var i,r,o=e.call(t),a=[];try{for(;(void 0===n||n-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(s){r={error:s}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(r)throw r.error}}return a}(o(0),2)[1];return f((function(){t((function(t){return t+1}))}),[])}var fi={};function hi(t,n,e){void 0===n&&(n="observed"),void 0===e&&(e=fi);var i=(e.useForceUpdate||li)(),r=u(null);r.current||(r.current=new On("observer("+n+")",(function(){i()})));var o,a,s=function(){r.current&&!r.current.isDisposed&&(r.current.dispose(),r.current=null)};if(c(r,ui),function(t){l((function(){return t}),ci)}((function(){s()})),r.current.track((function(){try{o=t()}catch(n){a=n}})),a)throw s(),a;return o}var di={$$typeof:!0,render:!0,compare:!0,type:!0};function pi(t){var n=t.children,e=t.render,i=n||e;return"function"!=typeof i?null:hi(i)}function vi(t,n,e,i,r){var o="children"===n?"render":"children",a="function"==typeof t[n],s="function"==typeof t[o];return a&&s?Error("MobX Observer: Do not use children and render in the same time in`"+e):a||s?null:Error("Invalid prop `"+r+"` of type `"+typeof t[n]+"` supplied to `"+e+"`, expected `function`.")}pi.propTypes={children:vi,render:vi},pi.displayName="Observer";var mi=0,bi={};function gi(t){return bi[t]||(bi[t]=function(t){if("function"==typeof Symbol)return Symbol(t);var n="__$mobx-react "+t+" ("+mi+")";return mi++,n}(t)),bi[t]}function yi(t,n){if(_i(t,n))return!0;if("object"!=typeof t||null===t||"object"!=typeof n||null===n)return!1;var e=Object.keys(t),i=Object.keys(n);if(e.length!==i.length)return!1;for(var r=0;r<e.length;r++)if(!hasOwnProperty.call(n,e[r])||!_i(t[e[r]],n[e[r]]))return!1;return!0}function _i(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n}function wi(t,n,e){Object.hasOwnProperty.call(t,n)?t[n]=e:Object.defineProperty(t,n,{enumerable:!1,configurable:!0,writable:!0,value:e})}var xi=gi("patchMixins"),Si=gi("patchedDefinition");function Oi(t,n){for(var e=this,i=[],r=arguments.length-2;r-- >0;)i[r]=arguments[r+2];n.locks++;try{var o;return null!=t&&(o=t.apply(this,i)),o}finally{n.locks--,0===n.locks&&n.methods.forEach((function(t){t.apply(e,i)}))}}function Ai(t,n){return function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];Oi.call.apply(Oi,[this,t,n].concat(e))}}var ki=De,Ci=gi("isUnmounted"),ji=gi("skipRender"),Ii=gi("isForcingUpdate");function Ei(t,n){return this.state!==n||!yi(this.props,t)}function Pi(t,n){var e=gi("reactProp_"+n+"_valueHolder"),i=gi("reactProp_"+n+"_atomHolder");function r(){return this[i]||wi(this,i,xt("reactive "+n)),this[i]}Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:function(){return r.call(this).reportObserved(),this[e]},set:function(t){this[Ii]||yi(this[e],t)?wi(this,e,t):(wi(this,e,t),wi(this,ji,!0),r.call(this).reportChanged(),wi(this,ji,!1))}})}var Ri="function"==typeof Symbol&&Symbol.for,Ti=Ri?Symbol.for("react.forward_ref"):"function"==typeof s&&s((function(){})).$$typeof,Ni=Ri?Symbol.for("react.memo"):"function"==typeof a&&a((function(){})).$$typeof;function Li(t){if(t.isMobxInjector,Ni&&t.$$typeof===Ni)throw Error("Mobx observer: You are trying to use 'observer' on function component wrapped to either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(Ti&&t.$$typeof===Ti){var n=t.render;if("function"!=typeof n)throw Error("render property of ForwardRef was not a function");return s((function(){var t=arguments;return h.createElement(pi,null,(function(){return n.apply(void 0,t)}))}))}return"function"!=typeof t||t.prototype&&t.prototype.render||t.isReactClass||Object.prototype.isPrototypeOf.call(d,t)?function(t){var n=t.prototype;if(n.componentWillReact)throw Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==p)if(n.shouldComponentUpdate){if(n.shouldComponentUpdate!==Ei)throw Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else n.shouldComponentUpdate=Ei;Pi(n,"props"),Pi(n,"state");var e=n.render;return n.render=function(){return function(t){var n=this;wi(this,ji,!1),wi(this,Ii,!1);var e=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",i=t.bind(this),r=!1,o=new On(e+".render()",(function(){if(!r&&(r=!0,!0!==n[Ci])){var t=!0;try{wi(n,Ii,!0),n[ji]||d.prototype.forceUpdate.call(n),t=!1}finally{wi(n,Ii,!1),t&&o.dispose()}}}));function a(){r=!1;var t=void 0,n=void 0;if(o.track((function(){try{n=function(t,n){var e,i=$t(!1);try{e=n()}finally{Xt(i)}return e}(0,i)}catch(n){t=n}})),t)throw t;return n}return o.reactComponent=this,a[ki]=o,this.render=a,a()}.call(this,e)},function(t,n,e){var i=function(t,n){var e=t[xi]=t[xi]||{},i=e[n]=e[n]||{};return i.locks=i.locks||0,i.methods=i.methods||[],i}(t,n);i.methods.indexOf(e)<0&&i.methods.push(e);var r=Object.getOwnPropertyDescriptor(t,n);if(!r||!r[Si]){var o=function t(n,e,i,r,o){var a,s=Ai(o,r);return(a={})[Si]=!0,a.get=function(){return s},a.set=function(o){if(this===n)s=Ai(o,r);else{var a=t(this,e,i,r,o);Object.defineProperty(this,e,a)}},a.configurable=!0,a.enumerable=i,a}(t,n,r?r.enumerable:void 0,i,t[n]);Object.defineProperty(t,n,o)}}(n,"componentWillUnmount",(function(){this.render[ki]&&this.render[ki].dispose(),this[Ci]=!0})),t}(t):(e=t,c=si({forwardRef:!1},i),l=e.displayName||e.name,(f=function(t,n){return hi((function(){return e(t,n)}),l)}).displayName=l,r=c.forwardRef?a(s(f)):a(f),u=r,Object.keys(o=e).forEach((function(t){o.hasOwnProperty(t)&&!di[t]&&Object.defineProperty(u,t,Object.getOwnPropertyDescriptor(o,t))})),r.displayName=l,r);var e,i,r,o,u,c,l,f}function Mi(t){function n(n,e,i,r,o,a){for(var s=[],u=arguments.length-6;u-- >0;)s[u]=arguments[u+6];return un((function(){return r=r||"<<anonymous>>",a=a||i,null==e[i]?n?Error("The "+o+" `"+a+"` is marked as required in `"+r+"`, but its value is `"+(null===e[i]?"null":"undefined")+"`."):null:t.apply(void 0,[e,i,r,o,a].concat(s))}))}var e=n.bind(null,!1);return e.isRequired=n.bind(null,!0),e}function Bi(t){var n=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":function(t,n){return"symbol"===t||"Symbol"===n["@@toStringTag"]||"function"==typeof Symbol&&n instanceof Symbol}(n,t)?"symbol":n}function Gi(t,n){return Mi((function(e,i,r,o,a){return un((function(){if(t&&Bi(e[i])===n.toLowerCase())return null;var o;switch(n){case"Array":o=be;break;case"Object":o=Pe;break;case"Map":o=we;break;default:throw Error("Unexpected mobxType: "+n)}var s=e[i];if(!o(s)){var u=function(t){var n=Bi(t);if("object"===n){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return n}(s),c=t?" or javascript `"+n.toLowerCase()+"`":"";return Error("Invalid prop `"+a+"` of type `"+u+"` supplied to `"+r+"`, expected `mobx.Observable"+n+"`"+c+".")}return null}))}))}function Di(t,n){return Mi((function(e,i,r,o,a){for(var s=[],u=arguments.length-5;u-- >0;)s[u]=arguments[u+5];return un((function(){if("function"!=typeof n)return Error("Property `"+a+"` of component `"+r+"` has invalid PropType notation.");var u=Gi(t,"Array")(e,i,r);if(u instanceof Error)return u;for(var c=e[i],l=0;l<c.length;l++)if((u=n.apply(void 0,[c,l,r,o,a+"["+l+"]"].concat(s)))instanceof Error)return u;return null}))}))}if(h.createContext({}),gi("disposeOnUnmountProto"),gi("disposeOnUnmountInst"),Gi(!1,"Array"),Di.bind(null,!1),Gi(!1,"Map"),Gi(!1,"Object"),Gi(!0,"Array"),Di.bind(null,!0),Gi(!0,"Object"),!d)throw Error("mobx-react requires React to be available");if(!Vt)throw Error("mobx-react requires mobx to be available");"function"==typeof v&&function(t){var n=t.enforceActions,e=t.computedRequiresReaction,i=t.computedConfigurable,r=t.disableErrorBoundaries,o=t.arrayBuffer,a=t.reactionScheduler;if(!0===t.isolateGlobalState&&((vn.pendingReactions.length||vn.inBatch||vn.isRunningReactions)&&nt("isolateGlobalState should be called before MobX is running any reactions"),pn=!0,dn&&(0==--Q().__mobxInstanceCount&&(Q().__mobxGlobals=void 0),vn=new hn)),void 0!==n){var s=void 0;switch(n){case!0:case"observed":s=!0;break;case!1:case"never":s=!1;break;case"strict":case"always":s="strict";break;default:nt("Invalid value for 'enforceActions': '"+n+"', expected 'never', 'always' or 'observed'")}vn.enforceActions=s,vn.allowStateChanges=!0!==s&&"strict"!==s}void 0!==e&&(vn.computedRequiresReaction=!!e),void 0!==i&&(vn.computedConfigurable=!!i),void 0!==r&&(vn.disableErrorBoundaries=!!r),"number"==typeof o&&ve(o),a&&In(a)}({reactionScheduler:v});const Fi={color:"white",fontSize:"8.5px",textAlign:"end",lineHeight:"11px",opacity:"0.85",whiteSpace:"nowrap",textShadow:"rgb(65 50 24) 1px 0px 0px, rgb(65 50 24) 0.552px 0.85px 0px, rgb(65 50 24) -0.4px 0.9px 0px, rgb(65 50 24) -0.1px 0.15px 0px, rgb(65 50 24) -0.65px -0.7px 0px, rgb(65 50 24) 0.3px -0.95px 0px, rgb(65 50 24) 0.96px -0.28px 0px",pointerEvents:"none"},Ui=({playing:t,online:n})=>{const e=(i=t,shell.I18n.t("SocialPlugin.PlayerPlayingNum",{playerNum:i.toString()}));var i;const r=function(t){return shell.I18n.t("SocialPlugin.PlayerOnlineNum",{playerNum:t.toString()})}(n);return h.createElement("div",{style:Fi},h.createElement("div",null,e),h.createElement("div",null,r))},Vi={position:"absolute",right:"8px",top:"0px",pointerEvents:"none"};var Wi=Li((()=>{const{onlinePlayerCount:t,gameOnlinePlayerCount:n,onlinePlayerPaddingTop:e,ratio:i,screenWidth:r}=We.mainViewModel,o=Object.assign(Object.assign({},Vi),{transform:`translate(${r}px, 0px)`,top:e/i+"px"});return h.createElement("div",{style:o},h.createElement(Ui,{online:t,playing:n}))}));class Hi extends h.Component{render(){return h.createElement("div",{className:F.SOCIAL_WIDGET_BUTTON,onClick:this.Lt.bind(this)},h.createElement("div",{className:F.CASH_TOURNAMENT},this.Mt()))}Mt(){const{isShowTournamentNotification:t}=We.mainViewModel;return t?h.createElement("div",{className:F.SOCIAL_NOTIFICATION__DOT}):null}Lt(){this.props.onClickCallback()}}var qi=Li(Hi);const{delayCallback:Yi,deferCallback:zi}=N;class $i extends h.Component{constructor(t){super(t),this.Bt=void 0,this.Gt=void 0,this.state={isPlayingAnim:!1,canActive:!0}}componentWillUnmount(){const t=this.Gt;this.Gt=void 0,t&&t()}render(){const t=We.mainViewModel.isFav?F.FAVOURITE_BUTTON_YELLOW:F.FAVOURITE_BUTTON_WHITE,n=this.state.canActive?F.SOCIAL_BIG_SCALE_BUTTON:"";return h.createElement("div",{className:F.SOCIAL_WIDGET_BUTTON,onClick:this.Dt.bind(this)},h.createElement("div",{className:`social_button-image ${t} ${n}`,style:{position:"absolute"}}),this.Ft())}Ft(){return this.state.isPlayingAnim?h.createElement("div",{id:F.FAVOURITE_ANIMATED,className:F.FAVOURITE_BUTTON_YELLOW,onAnimationEnd:this.Ut.bind(this)}):null}Dt(){We.mainViewModel.isFav?this.setState({isPlayingAnim:!1,canActive:!1}):this.setState({isPlayingAnim:!0,canActive:!1}),We.mainViewModel.isGameButtonInteractable=!1,this.Vt(!We.mainViewModel.isFav),zi(!0)(this.Wt.bind(this));const t=this.Bt;this.Bt=void 0,t&&t(),this.Bt=Yi(1)(this.Ht.bind(this))}Ut(){this.setState({isPlayingAnim:!1})}Vt(t){We.mainViewModel.setIsFav(t)}Wt(){this.setState({canActive:!0})}Ht(){We.mainViewModel.isGameButtonInteractable=!0,this.Bt=void 0;const t=We.mainViewModel.isFav;We.mainViewModel.setIsFav(t),ai.emitEvent(W.SEND_ANALYTICS_EVENT,{actionName:We.mainViewModel.isFav?"ClickFavorite":"ClickUnfavorite"}),ii.updatePlayerFavGame(t)}}var Xi=Li($i);function Ki(t){if(t.__esModule)return t;var n=t.default;if("function"==typeof n){var e=function t(){if(this instanceof t){var e=[null];e.push.apply(e,arguments);var i=Function.bind.apply(n,e);return new i}return n.apply(this,arguments)};e.prototype=n.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(t).forEach((function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})})),e}var Ji={},Zi={},Qi=Ki(Object.freeze({__proto__:null,appendStyles:j,getBase64AtlasData:function(t,n){var e=[];t.forEach((function(i,r){g.parsePlistData(i.plistPath,(function(o){var a=o[0].frames,s=[];i.textureList.forEach((function(t){if(void 0===a[t])throw Error("texture :"+t+" not found in "+i.plistPath);var n=a[t].textureRect,e=a[t].textureRotated;if(void 0!==n){var r=n.match(/\d+/g);if(r){var o=r.map(Number);s.push({x:o[0],y:o[1],width:o[2],height:o[3],isRotate:e})}}})),s.forEach((function(t){e.push(y(i.resolvePath,t,i.colour))})),t.length-1===r&&Promise.all(e).then((function(t){var e=[];t.forEach((function(t){e.push(t)})),n&&n(e,void 0)})).catch((function(t){n&&n(void 0,t)}))}))}))},getBase64ImageData:_,loadImageUrlAsBlob:A,loadLocale:function(t,n){return new Promise((function(e,i){var r=new plugin.Loader;r.onLoad=function(t){var n=t.response;for(var i in n)n[i]&&shell.I18n.extend(n[i],i);e(n)},r.onError=function(){var t=shell.Error,n=shell.ClientError,e=new t(n.Domain,n.GameLoadResourceError);i(e)},r.load([{src:t,type:plugin.LoadType.Json,maxAttemptCount:n}])}))},loadResource:x,loadSpriteSheet:S,removeStyles:function(t,n){Array.isArray(t)||(t=[t]),t.forEach((function(t){R(t,n.bundleInfo.name)}))},resolveCSS:k,resolveCSSWithImage:function(t,n,e){var i=e?e.resource.resolveUrl(n):n;return t.replace(/url\((.*?)\)/g,(function(){return"url("+i+")"}))},tintImage:C,unloadAllBundleStyles:function(t){var n=t.bundleInfo.name;w[n]&&(w[n].map((function(t){return t})).forEach((function(t){R(t,n)})),w[n].length=0)}}));Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.Img=void 0;var tr=__importDefault(h),nr=Qi,er="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAApJREFUCNdjYAAAAAIAAeIhvDMAAAAASUVORK5CYII=",ir=function(t){function n(n){var e=t.call(this,n)||this;return e.qt=!0,e.state={url:er,status:"loading"},e}return __extends(n,t),n.prototype.Yt=function(){var t,n=this;(t=this.props.src,new Promise((function(n,e){t||e("Empty url or undefined url passed in");var i=t;nr.loadImageUrlAsBlob(t).then((function(t){i=URL.createObjectURL(t),n(i)})).catch((function(t){e(t)}))}))).then((function(t){n.qt&&n.setState({url:t,status:"loaded"})})).catch((function(t){n.qt&&(n.setState({url:er,status:"url failed"}),n.props.onError&&n.props.onError(t,n.state.status))}))},n.prototype.componentDidUpdate=function(t){this.props.src!==t.src&&this.Yt()},n.prototype.componentDidMount=function(){this.Yt()},n.prototype.componentWillUnmount=function(){this.qt=!1},n.prototype.zt=function(t){"loaded"===this.state.status&&URL.revokeObjectURL(this.state.url),this.props.onLoad&&this.props.onLoad(t,"loaded")},n.prototype.$t=function(t){this.props.onClick&&this.props.onClick(t)},n.prototype.Xt=function(t){this.props.onError&&this.props.onError(t,"image failed")},n.prototype.render=function(){var t=this.props,n=t.forwardedRef,e=t.alt,i=__rest(t,["forwardedRef","alt"]);return tr.default.createElement("img",__assign({},i,{src:this.state.url,alt:e||"image",onLoad:this.zt.bind(this),onError:this.Xt.bind(this),onClick:this.$t.bind(this),ref:n}))},n}(tr.default.Component);Zi.Img=tr.default.forwardRef((function(t,n){return tr.default.createElement(ir,__assign({},t,{forwardedRef:n}))})),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Img=void 0;var n=Zi;Object.defineProperty(t,"Img",{enumerable:!0,get:function(){return n.Img}})}(Ji);const rr={leaderboardContainer:{marginBottom:"8px",marginTop:"5px"},leaderBoardButton:{position:"relative",width:"30px",height:"45px"},iconButton:{position:"absolute",width:"100px",height:"100px"},iconPosition0:{transform:"translate(-78px,-30px) scale(0.33)"},iconPosition1:{transform:"translate(-55px,-30px) scale(0.33)"},iconPosition2:{transform:"translate(-33px,-30px) scale(0.33)"},circleBackground:{position:"absolute",top:"16px",left:"11px",borderRadius:"50%",width:"75px",height:"75px",backgroundColor:"white"},iconBgColor0:{backgroundColor:"#a68f74"},iconBgColor1:{backgroundColor:"#7e839e"},iconBgColor2:{backgroundColor:"#9e7c84"},textHolder:{fontSize:"36px",textAlign:"center",lineHeight:"75px",width:"75px",color:"white"},leaderboardFrame:{position:"absolute",top:0},profileIcon:{width:"75px",height:"75px"},defaultProfileIcon:{transform:"translate(-90px, -90px) scale(0.33)"}};class or extends h.Component{constructor(t){super(t)}Kt(t){var n,e;const i=rr["iconPosition"+t],r=Object.assign(Object.assign({},rr.iconButton),i),o=rr["iconBgColor"+t],a=Object.assign(Object.assign({},rr.circleBackground),o);let s="",u="";We.mainViewModel.topThreePlayerRanking.length>0&&(s=null===(n=We.mainViewModel.topThreePlayerRanking[t])||void 0===n?void 0:n.playerName,u=null===(e=We.mainViewModel.topThreePlayerRanking[t])||void 0===e?void 0:e.playerImageUrl);const c=null==s?void 0:s.slice(0,1);return h.createElement("div",{key:"social_button-frame-"+t,style:r},h.createElement("div",{style:a},c&&!u&&h.createElement("div",{style:rr.textHolder},c),!c&&!u&&h.createElement("div",{style:rr.defaultProfileIcon,className:"leaderboard_icon_img default_profile_pic"}),u&&h.createElement(Ji.Img,{src:u,style:rr.profileIcon})),h.createElement("div",{style:rr.leaderboardFrame,className:D[t]}))}render(){return h.createElement("div",{className:F.SOCIAL_WIDGET_BUTTON,style:rr.leaderboardContainer,onClick:this.props.onClickCallback},h.createElement("div",{className:F.LEADERBOARD_BUTTON},this.Kt(G.GOLD),this.Kt(G.SILVER),this.Kt(G.BRONZE)))}}var ar=Li(or);class sr extends h.Component{render(){return h.createElement("div",{className:F.SOCIAL_WIDGET_BUTTON,onClick:this.props.onClickCallback},h.createElement("div",{className:F.MEDIA_SHARE}))}}class ur extends h.Component{constructor(t){super(t)}render(){return h.createElement("div",{className:F.SOCIAL_WIDGET_BUTTON,onClick:this.props.onClickCallback},h.createElement("div",{className:F.PLAYER_PROFILE},this.Mt()))}Mt(){const{profileBadgeNotification:t}=We.mainViewModel;return t?h.createElement("div",{className:F.SOCIAL_NOTIFICATION__DOT}):null}}var cr=Li(ur);class lr extends h.Component{constructor(t){super(t),this.state={haveGameIcon:!0}}render(){const t=We.mainViewModel.isGameButtonInteractable?{}:{pointerEvents:"none"};return h.createElement("div",{className:F.SOCIAL_WIDGET_BUTTON,onClick:this.props.onClickCallback,style:Object.assign(Object.assign({},t),{marginBottom:0})},h.createElement("div",{id:U.SOCIAL_GAME_ICON_CONTAINER},this.Jt(),h.createElement("div",{id:U.SOCIAL_GAME_ICON_FRAME,className:F.GAME_ICON_HIGHLIGHT})))}Jt(){return this.state.haveGameIcon&&this.props.imageUrl?h.createElement(Ji.Img,{src:this.props.imageUrl,id:U.SOCIAL_GAME_ICON,onError:this.Zt.bind(this)}):h.createElement("div",{id:U.SOCIAL_GAME_ICON_PLACEHOLDER,className:F.GAME_ICON_PLACEHOLDER})}Zt(){this.setState({haveGameIcon:!1})}}class fr extends h.Component{constructor(t){super(t),this.Qt=void 0}componentDidMount(){this.Qt=N.delayCallback(10)(this.props.changeToShareButton)}componentWillUnmount(){this.tn()}render(){return h.createElement("div",{className:F.SOCIAL_WIDGET_BUTTON,onClick:this.props.onClickCallback},h.createElement("div",{className:F.REPLAY,style:{position:"absolute"}}),h.createElement("div",{className:F.REPLAY_RIPPLE_EFFECT}))}tn(){const t=this.Qt;this.Qt=void 0,t&&t()}}class hr extends h.Component{constructor(t){super(t)}render(){return h.createElement("div",{className:"social_widget-container",style:{transform:this.props.translation,display:"block"}},h.createElement("div",{className:"social_background-shadow",style:this.props.shadowStyle}),this.nn(),this.Jt(),this.en(),this.rn(),this.an(),this.sn())}nn(){return We.mainViewModel.leaderboard?h.createElement(ar,{onClickCallback:()=>ai.emitEvent(W.SHOW_LEADERBOARD),leaderboardInfoObj:We.mainViewModel.topThreePlayerRanking}):null}Jt(){return We.mainViewModel.gameListWidget?h.createElement(lr,{onClickCallback:()=>ai.emitEvent(W.SHOW_GAMES),imageUrl:We.mainViewModel.gameIconUrl}):null}en(){return We.mainViewModel.favouriteWidget?h.createElement(Xi,{onClickCallback:()=>{ai.emitEvent(W.SEND_ANALYTICS_EVENT,{actionName:We.mainViewModel.isFav?"ClickFavorite":"ClickUnfavorite"}),ii.updatePlayerFavGame(We.mainViewModel.isFav)}}):null}rn(){return We.mainViewModel.tournamentWidget?h.createElement(qi,{onClickCallback:()=>ai.emitEvent(W.SHOW_TOURNAMENT)}):null}an(){return We.mainViewModel.socialMediaMode===B.REPLAY?h.createElement(fr,{onClickCallback:()=>{ai.emitEvent(W.SEND_ANALYTICS_EVENT,{actionName:"WinReplay"}),ai.replayLastRound()},changeToShareButton:()=>{We.mainViewModel.socialMediaMode=B.SHARE}}):We.mainViewModel.mediaShareWidget?h.createElement(sr,{onClickCallback:()=>ai.emitEvent(W.SHOW_MEDIA_SHARE)}):null}sn(){return We.mainViewModel.playerProfileWidget?h.createElement(cr,{onClickCallback:()=>{const t={userID:We.socialGameSession.playerId};ai.emitEvent(W.SHOW_PROFILE,t)}}):null}}var dr=Li(hr);class pr extends h.Component{render(){const{mainViewModel:t}=We,{screenWidth:n,screenHeight:e,leaderboard:i,isSocialActive:r,isTournamentActive:o}=t,a=t.getActiveElementCount(),s=!o&&r;if(0===a&&!t.leaderboard&&!t.onlinePlayerWidget)return null;const u="land"===shell.environment.getOrientationMode()?"scale(0.8)":"",c=function(t,n){n=n||We.mainViewModel.getActiveElementCount();const{gameLayoutInfo:e,onlinePlayerWidget:i}=t,{uiFreeSpace:r,uiSettingMenu:o}=e,a=t.isLandscapeMode,s=cc.view.getVisibleSize(),u=Math.round(s.height/t.screenHeight),c=a?540:900;let l=s.height/2-r.position.y;l=l>0?l:0,r.position.y>=c&&Math.ceil(s.height/2)>=c&&(l=60,shell.environment.hasNotch()&&(l+=46),i&&(l+=25+t.onlinePlayerPaddingTop)),l/=u;const f=l+((t.leaderboard?105/u:0)+110*n/u)+140/u,h=(s.height/2-o.position.y)/u;return l-(f>h?f-h:0)}(t,a),l=`translate(${n}px, ${c}px) ${u}`,f={top:i?"33px":"0px",height:33*a+"px"},d=Math.round(cc.view.getVisibleSize().height/e);return We.mainViewModel.updateRatio(d),h.createElement("div",{id:"social-container",style:{display:s?"block":"none"}},t.onlinePlayerWidget&&h.createElement(Wi,null),h.createElement(dr,{translation:l,shadowStyle:f}))}}var vr=Li(pr),mr=function(t){function n(n){var e=t.call(this,n)||this;return e.state={error:void 0},e.un=void 0,e.un=n.context,e}return __extends(n,t),n.getDerivedStateFromError=function(t){return{error:t}},n.prototype.render=function(){var t=this,n=this.state.error;if(n){var e={title:void 0,content:new shell.Error(shell.GameShellError.Domain,shell.GameShellError.PluginReactRenderError).message,actions:[{label:shell.I18n.t("General.DialogOk"),type:"Neutral",handler:"OK"}]};return this.cn(e,(function(){var e=t.props.onError;e&&e(n,void 0)})),null}return this.props.children},n.prototype.cn=function(t,n){this.un.event.emit("Alert.Show",t,(function(t){var e=t.response;n&&n(e)}))},n}(h.Component);class br extends plugin.AbstractViewComponent{onCreate(){this.rootElement=We.mainViewModel.rootElement,this.ln()}ln(){m.render(h.createElement(mr,{context:this.context,onError:()=>{this.context.event.emit("WidgetManager.RenderViewError",{key:this.context.bundleInfo.name}),this.fn()}},h.createElement(vr,null)),this.rootElement)}fn(){const t=this.rootElement;t.style.visibility="hidden",m.unmountComponentAtNode(t),this.view.removeFromParent(br)}}const{sequenceCallback:gr}=N;var yr;function _r(t,n){const e=shell.I18n.t("General.ResourceRetryMessage")+shell.I18n.t("RetryHandler.Times",{times:{ordinal:n}});shell.setProgressMessage(e)}function wr(t){const{mainViewModel:n}=We,e={totalPlayerOnlineCount:n.onlinePlayerWidget,playerFavouriteGames:n.favouriteWidget,playerProfile:n.playerProfileWidget};!function(t){const{requestFunc:n,onRetryFailCallback:e,onCompleteCallback:i,maxRetryCount:r,extraParmas:o}=t;let a,s,u=0;const c=(t,n)=>{t?t instanceof Error&&!t.shouldRetry||u>=r?i&&i(t):(u++,e&&e(t,u),a=Xe(1<<u)(l)):i&&i(void 0,n)},l=()=>{s=n(c,o)};l()}({requestFunc:ii.getSocialInitAPIConfig.bind(ii),onRetryFailCallback:_r,onCompleteCallback:(e,i)=>{if(e)n.favouriteWidget=!1,n.playerProfileWidget=!1;else{const t=i.dt;!function(t){const{mainViewModel:n}=We;if(t){const n={pid:(e=t).pid,pnm:e.nnm?e.nnm:e.pnm,spp:{portId:e.portId,g:e.g,hrsId:e.hrsId,li:e.li,lvl:e.lvl,lctn:e.lctn,a:e.a}};We.socialGameSession.updatePlayerInfo(n)}else n.playerProfileWidget=!1;var e}(t.playerProfileInfo),(r=t.onlinePlayerCount)?(We.mainViewModel.gameOnlinePlayerCount=r.gop,We.mainViewModel.onlinePlayerCount=r.top):We.mainViewModel.onlinePlayerWidget=!1,function(t){const{mainViewModel:n}=We;t?We.updateFavGameList(t):n.favouriteWidget=!1}(t.playerFavouriteGamesDatas)}var r;t&&t()},maxRetryCount:5,extraParmas:e})}function xr(t){ii.getFilterResourceData(((n,e)=>{var i;n||(We.mainViewModel.gameIconUrl=e&&e.dt&&e.dt[0]?(i=e.dt[0].url,shell&&shell.authenticate?shell.authenticate(i):i):""),t&&t()}),{referenceId:We.socialGameSession.gameId,typeId:yr.SOCIAL_GAME_SMALL_ICON})}function Sr(t){ii.getFilterResourceData(((n,e)=>{if(!n){const t=e&&e.dt?e.dt:[];We.mainViewModel.updateProfileIconList(t)}t&&t()}),{typeId:yr.SOCIAL_PROFILE_ICON})}!function(t){t[t.SOCIAL_PROFILE_ICON=13]="SOCIAL_PROFILE_ICON",t[t.SOCIAL_GAME_SMALL_ICON=19]="SOCIAL_GAME_SMALL_ICON"}(yr||(yr={}));const Or=[{cssFile:".fav_icon_yellow{background-image:url(fav_icon_yellow.png);background-repeat:no-repeat;display:inline-block;overflow:hidden}.fav_icon_yellow.btn_favourite{background-position:-1px -1px;height:96px;width:96px}",imageFile:"img/fav_icon_yellow.png",appendHeader:!0,tint:{r:255,g:216,b:88,a:1}},{cssFile:".leaderboard_icon_img{background-image:url(leaderboard_icon_img.png);background-repeat:no-repeat;display:inline-block;overflow:hidden}.default_profile_pic{background-position:-1px -1px;height:252px;width:252px}.ic_user_bronze{background-position:-255px -1px;height:96px;width:96px}.ic_user_gold{background-position:-255px -99px;height:96px;width:96px}.ic_user_silver{background-position:-353px -1px;height:96px;width:96px}",imageFile:"img/leaderboard_icon_img.png",appendHeader:!0},{cssFile:".widget_icon_img{background-image:url(widget_icon_img.png);background-repeat:no-repeat;display:inline-block;overflow:hidden}.widget_icon_img.bg_dark_gradient{background-position:-1px -1px;height:252px;width:252px}.widget_icon_img.btn_favourite{background-position:-425px -1px;height:96px;width:96px}.widget_icon_img.btn_profile{background-position:-425px -99px;height:96px;width:96px}.widget_icon_img.ic_game_highlight{background-position:-621px -99px;height:96px;width:96px}.widget_icon_img.btn_replay{background-position:-523px -1px;height:96px;width:96px}.widget_icon_img.btn_share{background-position:-523px -99px;height:96px;width:96px}.widget_icon_img.btn_trophy{background-position:-621px -1px;height:96px;width:96px}.widget_icon_img.game_icon_placeholder{background-position:-255px -1px;height:168px;width:168px}",imageFile:"img/widget_icon_img.png",appendHeader:!0}],Ar=[".social_widget-container{float:right;height:inherit;margin-right:4px;position:relative;width:33px}.social_background-shadow{box-shadow:29px 5px 20px 5px #000;position:absolute;width:1px}.social_widget-partials-display-layout{height:640px;pointer-events:none;position:absolute;visibility:inherit;width:360px;z-index:99}","@keyframes common-button-scale-small{0%{transform:scale(.33);transform-origin:top left}to{transform:scale(.396) translate(-7px,-7px);transform-origin:top left}}@keyframes profile-button-scale{0%{transform:scale(.33) translateY(-6px);transform-origin:top left}to{transform:scale(.396) translate(-7px,-13px);transform-origin:top left}}@keyframes game-icon-button-scale{0%{transform:scale(1);transform-origin:top left}to{transform:scale(1.2) translate(-3px,-3px);transform-origin:top left}}@keyframes red-packet-button-scale{0%{transform:scale(1);transform-origin:top left}to{transform:scale(1.2) translate(-3px,-3px);transform-origin:top left}}@keyframes button-scale-big{0%{transform:scale(.33);transform-origin:top left}25%{transform:scale(.396) translate(-7px,-7px);transform-origin:top left}to{transform:scale(.594) translate(-21px,-21px);transform-origin:top left}}@keyframes star-fly{0%{opacity:1;transform:scale(.495) translate(-14px,-14px)}to{opacity:0;transform:scale(.495) translate(-14px,-120px)}}@keyframes replay-anim{0%{transform:scale(.33);transform-origin:top left}50%{transform:scale(.297) translate(3px,3px);transform-origin:top left}to{transform:scale(.33);transform-origin:top left}}@keyframes replay-ripple-anim{0%{opacity:1;transform:scale(.33);transform-origin:top left}50%{opacity:1;transform:scale(.33);transform-origin:top left}to{opacity:0;transform:scale(.528) translate(-19px,-19px);transform-origin:top left}}@keyframes frame-rotation{0%{transform:scale(.33) translate(-97px,-97px) rotate(0deg)}to{transform:scale(.33) translate(-97px,-97px) rotate(1turn)}}.social_widget-button{height:33px;margin-bottom:2px;position:relative;width:inherit}.social_replay-button{animation:replay-anim;animation-duration:1.2s;animation-iteration-count:infinite;animation-timing-function:cubic-bezier(.37,0,.63,1)}.social_replay-ripple-effect{animation:replay-ripple-anim;animation-duration:1.2s;animation-iteration-count:infinite;animation-timing-function:cubic-bezier(.37,0,.63,1)}.social_small-scale-button:active{animation:common-button-scale-small;animation-duration:.1s;animation-fill-mode:forwards}.social_big-scale-button:active{animation:button-scale-big;animation-duration:.2s;animation-fill-mode:forwards}.social_profile-button:active{animation:profile-button-scale;animation-duration:.1s;animation-fill-mode:forwards}.social_leaderboard-button:active{animation:game-icon-button-scale;animation-duration:.1s;animation-fill-mode:forwards}.social_red_packet_transition{transition:top .3s ease-out,left .3s ease-out}#social_game-icon-container:active{animation:game-icon-button-scale;animation-duration:.1s;animation-fill-mode:forwards}#social_red_packet_widget_container:active{animation:red-packet-button-scale;animation-duration:.1s;animation-fill-mode:forwards}.social_button-image{transform:scale(.33);transform-origin:top left}#social_red_packet_button-image{transform:scale(.11) translate(-250px,-100px);transform-origin:top left}#social_game-icon-placeholder{position:absolute;transform:scale(.165) translate(10px,10px);transform-origin:top left}#social_game-icon{position:absolute;transform:scale(.35) translate(5px,5px);transform-origin:top left}#social_game-icon-frame{animation:frame-rotation;animation-duration:4s;animation-iteration-count:infinite;position:relative;transform:scale(.33) translate(-97px,-97px);transform-origin:center}#social_animated-fav-button{animation:star-fly;animation-delay:.25s;animation-duration:1.2s;animation-fill-mode:forwards;pointer-events:none;transform:scale(.495) translate(-14px,-14px);transform-origin:top left}.social_notification-dot{background-color:red;border-radius:50%;display:block;float:right;height:18px;position:relative;right:10px;top:10px;width:18px}"],{spawnCallback:kr,sequenceCallback:Cr}=N;let jr=class extends plugin.AbstractPluginComponent{onCreate(t){var n;We.mainViewModel.updateSocialElement(t),n=this.context,qe=n,Cr(this.hn.bind(this),this.dn.bind(this),kr(this.vn.bind(this),Cr(this.mn.bind(this),this.bn.bind(this),this.gn.bind(this),this.yn.bind(this))))(this._n.bind(this)),this.complete()}mn(t){j(Ar.map((t=>k(t,this.context))),this.context),t&&t()}bn(t){const n=Or.map((t=>S(t,this.context)));Promise.all(n).then((()=>{t&&t()})).catch((()=>{t&&t()}))}hn(t){ai.init((()=>{t&&t()}))}gn(t){!function(t){gr(wr,xr,Sr)(t)}((()=>{t&&t()}))}_n(){this.context.component.create(br)}yn(t){ai.setupEvent((()=>{t&&t()}))}vn(t){this.context.event.on("Shell.BootStateChanged",(n=>{"GameStarted"===n.payload&&t&&t()}),void 0)}dn(t){this.context.event.emit("WidgetManager.RequestHolder",{key:this.context.bundleInfo.name},(n=>{const{response:e}=n;e&&e.parentHolder?(We.mainViewModel.rootElement=e.parentHolder,t&&t()):this.context.destroy()}))}};jr=b([plugin.PluginMainComponent("132bb011e7")],jr),t("default",jr)}}}))}();
